var YaGames;(()=>{var e=[(e,t,r)=>{var n=r(21),o=r(4),a=r(71),i=r(72),s="WebAssembly",c=o[s],d=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=i(e,t,d),n({global:!0,constructor:!0,arity:1,forced:d},r)},u=function(e,t){if(c&&c[e]){var r={};r[e]=i(s+"."+e,t,d),n({target:s,stat:!0,constructor:!0,arity:1,forced:d},r)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},(e,t,r)=>{var n=r(37),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,r)=>{"use strict";var n=r(21),o=r(53).includes,a=r(2),i=r(86);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},(e,t,r)=>{var n=r(2);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,r)=>{var n=r(16),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);e.exports=n?i:function(e){return function(){return a.apply(e,arguments)}}},(e,t,r)=>{var n=r(6),o=r(14),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},(e,t,r)=>{var n=r(1),o=r(37),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},(e,t,r)=>{var n=r(5),o=r(45),a=r(47),i=r(11),s=r(36),c=TypeError,d=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",_="writable";t.f=n?a?function(e,t,r){if(i(e),t=s(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&_ in r&&!r[_]){var n=l(e,t);n&&n[_]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:u in r?r[u]:n[u],writable:!1})}return d(e,t,r)}:d:function(e,t,r){if(i(e),t=s(t),i(r),o)try{return d(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},(e,t,r)=>{var n=r(5),o=r(9),a=r(22);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},(e,t,r)=>{var n=r(8),o=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not an object")}},(e,t,r)=>{"use strict";var n=r(21),o=r(14),a=r(20),i=r(83),s=r(85);n({target:"Array",proto:!0,arity:1,forced:r(2)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=o(this),r=a(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return i(t,r),r}})},(e,t,r)=>{var n=r(4),o=r(43),a=r(7),i=r(26),s=r(40),c=r(39),d=n.Symbol,l=o("wks"),u=c?d.for||d:d&&d.withoutSetter||i;e.exports=function(e){return a(l,e)||(l[e]=s&&a(d,e)?d[e]:u("Symbol."+e)),l[e]}},(e,t,r)=>{var n=r(34),o=Object;e.exports=function(e){return o(n(e))}},(e,t,r)=>{var n=r(16),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},(e,t,r)=>{var n=r(2);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t,r)=>{var n=r(33),o=r(34);e.exports=function(e){return n(o(e))}},(e,t,r)=>{var n=r(6),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},(e,t,r)=>{var n=r(4),o=r(1),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e]):n[e]&&n[e][t]}},(e,t,r)=>{var n=r(69);e.exports=function(e){return n(e.length)}},(e,t,r)=>{var n=r(4),o=r(57).f,a=r(10),i=r(48),s=r(25),c=r(51),d=r(70);e.exports=function(e,t){var r,l,u,p,_,h=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],u=e.dontCallGetSet?(_=o(r,l))&&_.value:r[l],!d(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;c(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),i(r,l,p,e)}}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,r)=>{var n=r(6);e.exports=n({}.isPrototypeOf)},(e,t,r)=>{var n=r(4),o=r(25),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},(e,t,r)=>{var n=r(4),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},(e,t,r)=>{var n=r(6),o=0,a=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},(e,t,r)=>{var n=r(43),o=r(26),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},e=>{e.exports={}},(e,t,r)=>{var n=r(68);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,r)=>{var n=r(6),o=r(11),a=r(73);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},(e,t,r)=>{"use strict";var n,o,a,i=r(95),s=r(5),c=r(4),d=r(1),l=r(8),u=r(7),p=r(54),_=r(42),h=r(10),m=r(48),g=r(9).f,f=r(23),v=r(96),y=r(31),E=r(13),w=r(26),A=r(50),b=A.enforce,S=A.get,O=c.Int8Array,P=O&&O.prototype,T=c.Uint8ClampedArray,C=T&&T.prototype,k=O&&v(O),I=P&&v(P),R=Object.prototype,x=c.TypeError,D=E("toStringTag"),L=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",M=i&&!!y&&"Opera"!==p(c.opera),U=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=v(e);if(l(t)){var r=S(t);return r&&u(r,N)?r[N]:F(t)}},H=function(e){if(!l(e))return!1;var t=p(e);return u(G,t)||u(B,t)};for(n in G)(a=(o=c[n])&&o.prototype)?b(a)[N]=o:M=!1;for(n in B)(a=(o=c[n])&&o.prototype)&&(b(a)[N]=o);if((!M||!d(k)||k===Function.prototype)&&(k=function(){throw x("Incorrect invocation")},M))for(n in G)c[n]&&y(c[n],k);if((!M||!I||I===R)&&(I=k.prototype,M))for(n in G)c[n]&&y(c[n].prototype,I);if(M&&v(C)!==I&&y(C,I),s&&!u(I,D))for(n in U=!0,g(I,D,{get:function(){return l(this)?this[L]:void 0}}),G)c[n]&&h(c[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:U&&L,aTypedArray:function(e){if(H(e))return e;throw x("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!y||f(k,e)))return e;throw x(_(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var o in G){var a=c[o];if(a&&u(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}I[e]&&!r||m(I,e,r?t:M&&P[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(s){if(y){if(r)for(n in G)if((o=c[n])&&u(o,e))try{delete o[e]}catch(e){}if(k[e]&&!r)return;try{return m(k,e,r?t:M&&k[e]||t)}catch(e){}}for(n in G)!(o=c[n])||o[e]&&!r||m(o,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||u(G,t)||u(B,t)},isTypedArray:H,TypedArray:k,TypedArrayPrototype:I}},(e,t,r)=>{var n=r(6),o=r(2),a=r(18),i=Object,s=n("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},(e,t,r)=>{var n=r(35),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},e=>{e.exports=function(e){return null==e}},(e,t,r)=>{var n=r(58),o=r(38);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},(e,t,r)=>{var n=r(19),o=r(1),a=r(23),i=r(39),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&a(t.prototype,s(e))}},(e,t,r)=>{var n=r(40);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,r)=>{var n=r(59),o=r(2);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},(e,t,r)=>{var n=r(1),o=r(42),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not a function")}},e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},(e,t,r)=>{var n=r(44),o=r(24);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:n?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,r)=>{var n=r(5),o=r(2),a=r(46);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},(e,t,r)=>{var n=r(4),o=r(8),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},(e,t,r)=>{var n=r(5),o=r(2);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,r)=>{var n=r(1),o=r(9),a=r(49),i=r(25);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,d=void 0!==s.name?s.name:t;if(n(r)&&a(r,d,s),s.global)c?e[t]=r:i(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},(e,t,r)=>{var n=r(6),o=r(2),a=r(1),i=r(7),s=r(5),c=r(63).CONFIGURABLE,d=r(64),l=r(50),u=l.enforce,p=l.get,_=String,h=Object.defineProperty,m=n("".slice),g=n("".replace),f=n([].join),v=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,r){"Symbol("===m(_(t),0,7)&&(t="["+g(_(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!i(e,"name")||c&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&i(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=u(e);return i(n,"source")||(n.source=f(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return a(this)&&p(this).source||d(this)}),"toString")},(e,t,r)=>{var n,o,a,i=r(65),s=r(4),c=r(8),d=r(10),l=r(7),u=r(24),p=r(27),_=r(28),h="Object already initialized",m=s.TypeError,g=s.WeakMap;if(i||u.state){var f=u.state||(u.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,n=function(e,t){if(f.has(e))throw m(h);return t.facade=e,f.set(e,t),t},o=function(e){return f.get(e)||{}},a=function(e){return f.has(e)}}else{var v=p("state");_[v]=!0,n=function(e,t){if(l(e,v))throw m(h);return t.facade=e,d(e,v,t),t},o=function(e){return l(e,v)?e[v]:{}},a=function(e){return l(e,v)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},(e,t,r)=>{var n=r(7),o=r(66),a=r(57),i=r(9);e.exports=function(e,t,r){for(var s=o(t),c=i.f,d=a.f,l=0;l<s.length;l++){var u=s[l];n(e,u)||r&&n(r,u)||c(e,u,d(t,u))}}},(e,t,r)=>{var n=r(6),o=r(7),a=r(17),i=r(53).indexOf,s=r(28),c=n([].push);e.exports=function(e,t){var r,n=a(e),d=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&c(l,r);for(;t.length>d;)o(n,r=t[d++])&&(~i(l,r)||c(l,r));return l}},(e,t,r)=>{var n=r(17),o=r(67),a=r(20),i=function(e){return function(t,r,i){var s,c=n(t),d=a(c),l=o(i,d);if(e&&r!=r){for(;d>l;)if((s=c[l++])!=s)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},(e,t,r)=>{var n=r(78),o=r(1),a=r(18),i=r(13)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?r:c?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},(e,t,r)=>{var n=r(4),o=r(5),a=r(90),i=r(91),s=r(2),c=n.RegExp,d=c.prototype;o&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",o=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==n||r!==n}))&&a(d,"flags",{configurable:!0,get:i})},(e,t,r)=>{var n=r(98),o=r(33),a=r(14),i=r(20),s=function(e){var t=1==e;return function(r,s,c){for(var d,l=a(r),u=o(l),p=n(s,c),_=i(u);_-- >0;)if(p(d=u[_],_,l))switch(e){case 0:return d;case 1:return _}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},(e,t,r)=>{var n=r(5),o=r(15),a=r(103),i=r(22),s=r(17),c=r(36),d=r(7),l=r(45),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=s(e),t=c(t),l)try{return u(e,t)}catch(e){}if(d(e,t))return i(!o(a.f,e,t),e[t])}},(e,t,r)=>{var n=r(15),o=r(8),a=r(38),i=r(61),s=r(62),c=r(13),d=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,c=i(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||a(r))return r;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},(e,t,r)=>{var n,o,a=r(4),i=r(60),s=a.process,c=a.Deno,d=s&&s.versions||c&&c.version,l=d&&d.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},(e,t,r)=>{var n=r(41),o=r(35);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},(e,t,r)=>{var n=r(15),o=r(1),a=r(8),i=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!a(s=n(r,e)))return s;if(o(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!a(s=n(r,e)))return s;throw i("Can't convert object to primitive value")}},(e,t,r)=>{var n=r(5),o=r(7),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,d=s&&(!n||n&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:d}},(e,t,r)=>{var n=r(6),o=r(1),a=r(24),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},(e,t,r)=>{var n=r(4),o=r(1),a=n.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},(e,t,r)=>{var n=r(19),o=r(6),a=r(104),i=r(105),s=r(11),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=i.f;return r?c(t,r(e)):t}},(e,t,r)=>{var n=r(29),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},(e,t,r)=>{var n=r(29),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},(e,t,r)=>{var n=r(2),o=r(1),a=/#|\.prototype\./,i=function(e,t){var r=c[s(e)];return r==l||r!=d&&(o(t)?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},d=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},(e,t,r)=>{var n=r(16),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(a):function(){return i.apply(a,arguments)})},(e,t,r)=>{"use strict";var n=r(19),o=r(7),a=r(10),i=r(23),s=r(31),c=r(51),d=r(74),l=r(75),u=r(76),p=r(79),_=r(80),h=r(5),m=r(44);e.exports=function(e,t,r,g){var f="stackTraceLimit",v=g?2:1,y=e.split("."),E=y[y.length-1],w=n.apply(null,y);if(w){var A=w.prototype;if(!m&&o(A,"cause")&&delete A.cause,!r)return w;var b=n("Error"),S=t((function(e,t){var r=u(g?t:e,void 0),n=g?new w(e):new w;return void 0!==r&&a(n,"message",r),_(n,S,n.stack,2),this&&i(A,this)&&l(n,this,S),arguments.length>v&&p(n,arguments[v]),n}));if(S.prototype=A,"Error"!==E?s?s(S,b):c(S,b,{name:!0}):h&&f in w&&(d(S,w,f),d(S,w,"prepareStackTrace")),c(S,w),!m)try{A.name!==E&&a(A,"name",E),A.constructor=S}catch(e){}return S}}},(e,t,r)=>{var n=r(1),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},(e,t,r)=>{var n=r(9).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},(e,t,r)=>{var n=r(1),o=r(8),a=r(31);e.exports=function(e,t,r){var i,s;return a&&n(i=t.constructor)&&i!==r&&o(s=i.prototype)&&s!==r.prototype&&a(e,s),e}},(e,t,r)=>{var n=r(77);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},(e,t,r)=>{var n=r(54),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},(e,t,r)=>{var n={};n[r(13)("toStringTag")]="z",e.exports="[object z]"===String(n)},(e,t,r)=>{var n=r(8),o=r(10);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},(e,t,r)=>{var n=r(10),o=r(81),a=r(82),i=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(i?i(e,t):n(e,"stack",o(r,s)))}},(e,t,r)=>{var n=r(6),o=Error,a=n("".replace),i=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},(e,t,r)=>{var n=r(2),o=r(22);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},(e,t,r)=>{"use strict";var n=r(5),o=r(84),a=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},(e,t,r)=>{var n=r(18);e.exports=Array.isArray||function(e){return"Array"==n(e)}},e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},(e,t,r)=>{var n=r(13),o=r(87),a=r(9).f,i=n("unscopables"),s=Array.prototype;null==s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},(e,t,r)=>{var n,o=r(11),a=r(106),i=r(30),s=r(28),c=r(89),d=r(46),l=r(27),u="prototype",p="script",_=l("IE_PROTO"),h=function(){},m=function(e){return"<"+p+">"+e+"</"+p+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;f="undefined"!=typeof document?document.domain&&n?g(n):(t=d("iframe"),r="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):g(n);for(var o=i.length;o--;)delete f[u][i[o]];return f()};s[_]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[u]=o(e),r=new h,h[u]=null,r[_]=e):r=f(),void 0===t?r:a.f(r,t)}},(e,t,r)=>{var n=r(52),o=r(30);e.exports=Object.keys||function(e){return n(e,o)}},(e,t,r)=>{var n=r(19);e.exports=n("document","documentElement")},(e,t,r)=>{var n=r(49),o=r(9);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},(e,t,r)=>{"use strict";var n=r(11);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},(e,t,r)=>{"use strict";t.decode=t.parse=r(93),t.encode=t.stringify=r(94)},e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var d=0;d<c;++d){var l,u,p,_,h=e[d].replace(i,"%20"),m=h.indexOf(n);m>=0?(l=h.substr(0,m),u=h.substr(m+1)):(l=h,u="");try{p=decodeURIComponent(l),_=decodeURIComponent(u)}catch(e){console.warn(e);continue}t(a,p)?Array.isArray(a[p])?a[p].push(_):a[p]=[a[p],_]:a[p]=_}return a}},e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,r)=>{var n=r(7),o=r(1),a=r(14),i=r(27),s=r(97),c=i("IE_PROTO"),d=Object,l=d.prototype;e.exports=s?d.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof d?l:null}},(e,t,r)=>{var n=r(2);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,r)=>{var n=r(99),o=r(41),a=r(16),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},(e,t,r)=>{var n=r(18),o=r(6);e.exports=function(e){if("Function"===n(e))return o(e)}},(e,t,r)=>{var n=r(101),o=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw o("Wrong offset");return r}},(e,t,r)=>{var n=r(29),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw o("The argument can't be less than 0");return t}},,(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},(e,t,r)=>{var n=r(52),o=r(30).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,r)=>{var n=r(5),o=r(47),a=r(9),i=r(11),s=r(17),c=r(88);t.f=n&&!o?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),o=c(t),d=o.length,l=0;d>l;)a.f(e,r=o[l++],n[r]);return e}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n,o,a,i,s=r(117),c=r(114),d=r(118),l=r(112);"undefined"!=typeof navigator&&navigator,"undefined"!=typeof navigator&&navigator;var u;!function(e){e.AZERION="azerion",e.MEDIA_152="media_152",e.MULTIPLE_PARTNERS="multiple_partners"}(u||(u={}));const p="undefined"!=typeof window&&((null===(o=null===(n=window.YandexGamesSDK)||void 0===n?void 0:n.environment)||void 0===o?void 0:o.serviceName)||(null===(a=window.YandexGamesSDKEnvironment)||void 0===a?void 0:a.serviceName)||(null===(i=window.clientMetadata)||void 0===i?void 0:i.serviceName))||l.kJ.YANDEX,_=Object.create(null),h={init(){},sendOnceDeprecatedUsage(e){e in _||(_[e]=1,this.params({borrowParams:{sdkDeprecatedUsage:{key:e,appId:(0,d.rh)()}},service:p}))},params(e){c.Z.postToParent({type:"metrika",action:"params",data:e}).catch((e=>{(0,s.fF)(e)}))},reachGoal(e,t,r){c.Z.postToParent({type:"metrika",action:"reachGoal",data:{data:t,goal:e,params:r}}).catch((e=>{(0,s.fF)(e)}))}}},(e,t,r)=>{"use strict";var n=r(32),o=r(56).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,r)=>{"use strict";var n=r(32),o=r(56).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,r)=>{"use strict";var n=r(4),o=r(15),a=r(32),i=r(20),s=r(100),c=r(14),d=r(2),l=n.RangeError,u=n.Int8Array,p=u&&u.prototype,_=p&&p.set,h=a.aTypedArray,m=a.exportTypedArrayMethod,g=!d((function(){var e=new Uint8ClampedArray(2);return o(_,e,{length:1,0:3},1),3!==e[1]})),f=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new u(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return o(_,this,r,t);var n=this.length,a=i(r),d=0;if(a+t>n)throw l("Wrong length");for(;d<a;)this[t+d]=r[d++]}),!g||f)},(e,t,r)=>{"use strict";function n(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Object.create(null);return[e.hash.replace(/^#/,""),e.search.replace(/^\?/,"")].join("&").split("&").forEach((e=>{const[n,o]=e.split("=");try{r[n]=t?decodeURIComponent(o):o}catch(e){console.warn(e)}})),r}r.d(t,{Z:()=>n})},(e,t,r)=>{"use strict";r.d(t,{xY:()=>f,NA:()=>m,kJ:()=>B,p4:()=>U,x2:()=>G,SB:()=>L,mS:()=>g,lb:()=>y});r(12);const n=["az","by","co.il","com","com.am","com.ge","com.tr","ee","fr","kg","kz","lt","lv","md","ru","tj","tm","uz"],o=["com"],a={az:["az"],by:["be","ru"],"co.il":["he"],com:["en","af","am","ar","az","be","bg","bn","ca","cs","da","de","el","en","es","et","eu","fa","fi","fr","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","ne","nl","no","pl","pt","ro","ru","si","sk","sl","sr","sv","sw","ta","te","tg","th","tk","tl","tr","uk","ur","uz","vi","zh","zu"],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]};Object.keys(a).reduce(((e,t)=>(e[t]=a[t][0],e)),{});var i=r(113);var s,c;!function(e){e.CATEGORIZED="categorized",e.SUGGESTED="suggested",e.PLAYED="played",e.PROMOS="promos",e.ADV="adv",e.USER_PROFILE_RECENT_GAMES="user_profile_recent_games",e.USER_PROFILE_RECENT_GAMES_NEW="user_profile_recent_games_new",e.KINOPOISK="kinopoisk"}(s||(s={})),function(e){e.all="all",e.worldwide="worldwide",e.yan="yan"}(c||(c={}));var d,l;!function(e){e.ANDROID_OTHER="android_other",e.ANDROID_STANDALONE="android_standalone",e.ANDROID_YABRO="android_yabro",e.ANDROID_YASEARCH="android_yasearch",e.DESKTOP_OTHER="desktop_other",e.IOS_CHROME="ios_chrome",e.IOS_OTHER="ios_other",e.IOS_SAFARI="ios_safari",e.IOS_STANDALONE="ios_standalone",e.IOS_SUPERAPP="ios_superapp",e.MOBILE_OTHER="mobile_other",e.IGROTOK_LITE="igrotok_app_lite",e.IGROTOK_APP_ANDROID="igrotok_app_android"}(d||(d={})),function(e){e.GAME_REDIRECT="game-redirect",e.INSTALL="install",e.MAIN="main",e.PREVIEW="preview",e.PROFILE_NEW="profile-new",e.PROFILE="profile",e.PROMOS="promos"}(l||(l={}));var u,p,_,h,m;!function(e){e.DARK="dark",e.LIGHT="light"}(u||(u={})),function(e){e.DEFAULT="default",e.PLAYHOP="playhop"}(p||(p={})),function(e){e.CHROME_MOBILE="ChromeMobile",e.SAFARI_MOBILE="MobileSafari",e.STANDALONE="YandexGames",e.YA_SEARCH_APP="YaSearchApp",e.YANDEX_BROWSER="YandexBrowser",e.YANDEX_SEARCH="YandexSearch"}(_||(_={})),function(e){e.ANDROID="Android",e.IOS="iOS"}(h||(h={})),function(e){e.YAN="YAN",e.HOP="HOP"}(m||(m={}));Object.freeze(Object.values(d).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:t})),{}));const g="/app";var f,v;!function(e){e.L="l",e.M="m",e.PAGE_ICON_DESKTOP="page_icon_desktop",e.PAGE_ICON_DESKTOP_WITH_PLAY="page_icon_desktop_with_play",e.PAGE_ICON_MOBILE="page_icon_mobile",e.PAGE_ICON_MOBILE_WITH_PLAY="page_icon_mobile_with_play",e.PAGE_SCROLLED_ICON_MOBILE="page_scrolled_icon_mobile",e.PREMIUM="premium",e.PREMIUM_BIG="premium_big",e.PROFILE_RECENT_GAMES="profile_recent_games",e.PROMO_BAR="promo_bar",e.RECOMMENDED_NEW="recommended_new",e.ADAPTIVE_RECOMMENDED_NEW="adaptive_recommended_new",e.S="s",e.SINGLE="single",e.SIZE_22="size22",e.SIZE_48="size48",e.SIZE_36="size36",e.YOUR_GAMES="your_games",e.TV="tv",e.CATEGORIZED_NEW_L="categorized_new_l"}(f||(f={})),function(e){e.PLAYED="played_games",e.CATEGORIZED="categorized-games",e.GRID="grid-list",e.PROMO="promos-page",e.PROFILE="profile-recent-games",e.BALANCE_SPEND="balance-spend",e.GAME_PAGE="game-page",e.MULTIMORDA="multimorda",e.UNKNOWN="unknown"}(v||(v={}));const y={achievementNotifier:"achievement_notifier",advOffForGalaxy:"adv_off_for_galaxy",advShowTimeoutFullscreen:"adv_show_fullscreen_timeout",advShowTimeoutRewarded:"adv_show_rewarded_timeout",advStickyBannerDisabled:"adv_sticky_banner_disabled",advStickyBannerNative:"adv_sticky_banner_native",advStickyBannerNativeBannerIds:"adv_sticky_banner_native_banner_ids",advStickyBannerNativeLibrary:"adv_sticky_banner_native_library",advStickyBannerDesktopAdditionalBlock:"adv_sticky_banner_desktop_additional_block",advHighDesktopGptStickyBlockIds:"adv_high_desktop_gpt_sticky_block_ids",advStickyBannerLandscapeAdditionalBlock:"adv_sticky_banner_landscape_additional_block",advStickyBannerLandscapeLeftSideEnabled:"adv_sticky_banner_landscape_left_side_enabled",advStickyBannerLandscapeRightSideEnabled:"adv_sticky_banner_landscape_right_side_enabled",advStickyBannerMinPortraitViewportHeight:"adv_sticky_banner_min_portrait_viewport_height",advStickyBannerMinLandscapeViewportHeight:"adv_sticky_banner_min_landscape_viewport_height",advStickyBannerForcedHideAd:"adv_sticky_banner_forced_hide_ad",advStickyBannerGameLocations:"adv_sticky_banner_game_locations",advStickyBannerSizeByViewport:"adv_sticky_banner_size_by_viewport",advYandexStickyBannerSizeByViewportOff:"adv_yandex_sticky_banner_size_by_viewport_off",advStickyBannerMinHeightForHigherAd:"adv_sticky_banner_min_height_for_higher_ad",advStickyBannerLoadTimeout:"adv_sticky_banner_load_timeout",advStickyBannerRefreshInterval:"adv_sticky_banner_refresh_interval",advStickyBannerDesktopWidth:"adv_sticky_banner_desktop_width",advStickyBannerPortraitHeight:"adv_sticky_banner_portrait_height",advStickyBannerLandscapeHeight:"adv_sticky_banner_landscape_height",advStickyBannerLandscapeWidth:"adv_sticky_banner_landscape_width",advGptStickyBannerIds:"adv_gpt_sticky_banner_ids",advYandexStickyBannerIds:"adv_yandex_sticky_banner_ids",adv100pxGPTStickyBannerIds:"adv_100px_gpt_sticky_banner_ids",advStickyBannerWhiteBackgroundOnDesktop:"adv_sticky_banner_white_background_on_desktop",adaptiveFeed:"adaptive_feed",adfoxVideoAdv:"adfox_video_adv",addGameShortcut:"add_game_shortcut",adsenseFullscreenPlacementType:"adsense_fullscreen_placement_type",adsenseAdChannel:"adsense_ad_channel",adScriptInitTimeout:"ad_script_init_timeout",adScriptAdsenseInitTimeout:"ad_script_adsense_init_timeout",alwaysShowGuard:"always_show_guard",alwaysShowUpdateNotifier:"always_show_update_notifier",azureMirror:"azure_mirror",bannerCarousel:"bk",balancePopupWaitLoadTimeout:"balance_popup_wait_load_timeout",blurBackground:"blur_background",catalogGptAdPaths:"catalog_gpt_ad_paths",catalogLogWithHoc:"catalog_log_with_hoc",catalogShortcutOverhand:"catalog_shortcut_overhand",catalogSmallerPremiumBigPic:"catalog_smaller_premium_big_pic",categoriesToExclude:"categories_to_exclude",newCategorizedGames:"new_categorized_games",canOpenAdBlockPopup:"can_open_add_block_popup",catalogShortcutPromptInstallWaitingPeriod:"catalog_shortcut_prompt_install_waiting_period",catalogShortcutPromptMaxCallCount:"catalog_shortcut_prompt_max_call_count",catalogShortcutPromptWaitingPeriod:"catalog_shortcut_prompt_waiting_period",cfMirror:"cf_mirror",cfMirrorGameUrl:"cf_mirror_game_url",cfMirrorGameUrlAppId:"cf_mirror_game_url_appid",cfMirrorStatic:"cf_mirror_static",cfMirrorStaticBuild:"cf_mirror_static_build",dailyWelcomeBonus:"daily_welcome_bonus",delayAdsOnDesktop:"delay_ads_on_desktop",delayAdsOnTTI:"delay_ads_on_tti",delayAdsLoad:"delay_ads_load",disableAdButtonInSticky:"disable_ad_button_in_sticky",disableAdButtonInStickyWithAnimation:"disable_ad_button_in_sticky_with_animation",disableAdButtonInStickAnimationDelay:"disable_ad_button_in_sticky_animation_delay",delayInitYandexWaterfall:"delay_init_yandex_waterfall",delayLoadingMetrics:"delay_loading_metrics",delayLoadingMetricsTimeout:"delay_loading_metrics_timeout",delayLoadingPixelMetricsTimeout:"delay_loading_pixel_metrics_timeout",disableNativeAdv:"disable_native_adv",disableYandexWaterfall:"disable_yandex_waterfall",disableYandexWaterfallInCatalog:"disable_yandex_waterfall_in_catalog",disableAdButton:"disable_ad_button",fakeFullscreenLoadTimeout:"fake_fullscreen_load_timeout",feedbackAlwaysShow:"feedback_always_show",gameAppPlayer:"game_app_player",gameAppPlayerControl:"game_app_player_control",gameAppPlayerSameTabInfo:"game_app_player_same_tab_info",gamePageDrawerEnabled:"game_page_drawer_enabled",gamePageExp:"game_page_exp",gamePageInvisible:"game_page_invisible",gamePageNoIcon:"game_page_no_icon",gamePageNoClick:"game_page_no_click",gametokPwaEnabled:"gametok_pwa_enabled",gametokPerformanceLevel:"gametok_performance_level",igtotokDelayBeforeNextGameLoading:"igrotok_delay_before_next_game_loading",gametokTimeToHidePlaceholder:"gametok_time_to_hide_placeholder",googleGptWaterfall:"google_gpt_waterfall",googleGDPR:"google_gdpr",yandexGDPR:"yandex_gdpr",guardDisabledForStandalone:"guard_disabled_for_standalone",hideAdvStickyBannerForNewUsers:"hide_adv_sticky_banner_for_new_users",hideTcfapiPopupAfterShow:"hide_tcfapi_popup_after_show",invalidateGamesCacheFrom:"invalidate_games_cache_from",iosHide:"ios_hide",isGoogleFakeFullscreenEnabled:"is_google_fake_fullscreen_enabled",kinopoiskAdvPage:"kinopoisk_adv_page",kinopoiskFeed:"kinopoisk_feed",kinopoiskPage:"kinopoisk_page",lockAdvScreenOrientation:"lock_adv_screen_orientation",mediation:"mediation",multiplePartnersPrebidAdv:"multiple_partners_prebid_adv",nativeFullscreenBlock:"native_fullscreen_block",nativeRewardedBlock:"native_rewarded_block",nativeYandexFullscreenBlock:"native_yandex_fullscreen_block",nativeYandexRewardedBlock:"native_yandex_fullscreen_block",nativeAppodealFullscreenBlock:"native_appodeal_fullscreen_block",nativeAppodealRewardedBlock:"native_appodeal_rewarded_block",nativeApplovinFullscreenBlock:"native_applovin_fullscreen_block",nativeApplovinRewardedBlock:"native_applovin_rewarded_block",newAdvManager:"new_adv_manager",newAdvInterval:"new_adv_interval",newBalancePopup:"new_balance_popup",newCSP:"new_csp",newLoggingPlayedFeedFC:"new_logging_played_feed_fc",newLoggingGameCardFC:"new_logging_gamecard_fc",newProfile:"new_profile",newTimeLogExp:"new_time_log_exp",noAdsCatalogPopup:"no_ads_catalog_popup",noAdsDuration:"no_ads_duration",noAdsFirstXStarts:"no_ads_first_x_starts",noAdsFirstYSeconds:"no_ads_first_y_seconds",noAdsPrice:"no_ads_price",noAdsPricePlus:"no_ads_price_plus",noAdsPopupForce:"no_ads_popup_force",noAdsPopupForcePopupGapTimeout:"no_ads_popup_force_popup_gap_timeout",noMobileGames:"no_mobile_games",noRecent:"no_recent",oauth:"oauth",onlyRsyaAd:"only_rsya_ad",originAgentCluster:"origin_agent_cluster",paymentsHidden:"hide_payments",playersBadge:"players_badge",prebidAdv:"prebid_adv",prebidAdvMedia152:"prebid_adv_media_152",prebidCatalogAdv:"prebid_catalog_adv",prebidCustomBlock:"prebid_custom_block",prebidDisabledBids:"prebid_disabled_bids",prebidExtraBids:"prebid_extra_bids",prebidTimeout:"prebid_timeout",prebidAuctionTimeout:"prebid_auction_timeout",prebidOneAuction:"prebid_one_auction",prebidEmptyWaterfall:"prebid_empty_waterfall",prebidEmptyWaterfall2:"prebid_empty_waterfall2",prebidEmptyConfirmShow:"prebid_empty_confirm_show",preloadFullscreenAdv:"preload_fullscreen_adv4",preloadRewardedVideo:"preload_rewarded_video",preloadGame:"preload_game",premiumDuration:"premium_duration",premiumEnabled:"premium_enabled",premiumForced:"premium_forced",prettyAppUrl:"pretty_app_url",promoBar:"promo_bar",promoBarSpeed:"promo_bar_speed",promoBarAnimationDelay:"promo_bar_animation_delay",promoBarOptimizedAnimation:"promo_bar_optimized_animation",promoBarPortraitOnly:"promo_bar_portrait_only",promoBarDisableMobileAnimation:"promo_bar_disable_mobile_animation",promoBarGoToMainByBadgeClick:"promo_bar_go_to_main_by_badge_click",promoBannersEnabled:"promo_banners_enabled",promoBarBadgeOnly:"promo_bar_badge_only",promptPopupMobileText:"prompt_popup_mobile",portalCurrencyHidden:"hide_portal_currency",reactComponents:"react_components2",reactGuard:"react_guard",realRewarded:"real_rewarded",rpsLimiterDisabled:"rps_limiter_disabled",redirectFromComToRu:"redirect_from_com_to_ru",rewardedVideoTimeout:"rewarded_video_timeout",rewardedPCodeAdv:"rewarded_pcode_adv",refillOnTheSite:"refill_on_the_site",shortcutWaitOnGameLoadTimeout:"shortcut_wait_on_game_load_timeout",similarGames:"similar_games",sseEnabled:"sse_enabled",stickyHeader:"sticky_header",stickyFooterDesktop:"sticky_footer_desktop",tcfapiBoot:"tcfapi_boot",tcStringDebug:"tcstring_debug",tcfapiWait:"tcfapi_wait",tcStringSend:"tcstring_send",turnOffInterstitial:"turn_off_interstitial",tvDraftInput:"tv_draft_input",ttiMetricaWaitingTimeout:"tti_metrica_waiting_timeout",unitedPage:"united_page",unitedPageWithoutI:"united_page_without_i",unitedPageControl:"united_page_control",unmutedPrerollAdv:"unmuted_preroll_adv",unitedPlayPage:"united_play_page",updateExcludedCategories:"update_excluded_categories",useAdsGetLibraries:"use_ads_get_libraries",userActivityPopup:"user_activity_popup",userActivityPopupForTesting:"user_activity_popup_for_testing",userActivityPopupShowTime:"user_activity_popup_show_time",userInactiveTimer:"user_inactive_timer",uxFeedbackBoxSolutionEnabled:"ux_feedback_box_solution_enabled",uxFeedbackEnabled:"ux_feedback_enabled",webAppsEnabled:"web_apps_enabled",webvisorApps:"webvisor_apps",webvisorChance:"webvisor_chance",webvisorEnabled:"webvisor_enabled",welcomeBonus:"welcome_bonus",welcomeBonusAmount:"welcome_bonus_amount",withNativeClose:"with_native_close",yandexEmptyData:"yandex_empty_data",xsollaEnabled:"xsolla_enabled",igrotokOnboardingControlSetting:"igrotok_onboarding_control_setting",igrotokOnboardingFrequencySetting:"igrotok_onboarding_frequency_setting",igrotokNativeAdvServiceEnabled:"igrotok_native_adv_service_enabled",advLoadAfterGame:"adv_load_after_game"};var E;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda"}(E||(E={}));var w,A;!function(e){e.COMMON_CACHE_HITS="common_cache_hits",e.COMMON_CACHE_HIT_RATIO="common_cache_hit_ratio",e.COMMON_CACHE_MISSES="common_cache_misses",e.GAME_DATA_CACHE_HITS="game_data_cache_hits",e.GAME_DATA_CACHE_HIT_RATIO="game_data_cache_hit_ratio",e.GAME_DATA_CACHE_MISSES="game_data_cache_misses",e.GAME_DATA_GETTING_FROM_CACHE_TIME="game_data_getting_from_cache_time",e.GAME_DATA_SETTING_TO_CACHE_TIME="game_data_setting_to_cache_time",e.GET_FEW_GAMES_SERVER_TIME="get_few_games_server_time",e.GETTING_COMMON_CACHE_TIME="getting_cache_time",e.SETTING_COMMON_CACHE_TIME="setting_cache_time"}(w||(w={})),function(e){e.AFTER_BACKEND_TIME="after_backend_time",e.BACKEND_TIME="backend_time",e.BACKEND_RESPONSE_TIME_FOR="backend_response_time_for_",e.FULL_BASE_TIME="full_base_time",e.FULL_DATA_TIME="full_data_time",e.FULL_USUAL_TIME="full_usual_time",e.MIDDLEWARE_BASE_TIME="middleware_base_time",e.MIDDLEWARE_DATA_TIME="middleware_data_time",e.MIDDLEWARE_USUAL_TIME="middleware_usual_time",e.PLAY_BACKEND_RESPONSE_TIME="play_backend_response_time",e.PLAY_FULL_TIME="play_full_time",e.PLAY_HANDLE_BACKEND_RESPONSE_TIME="play_handle_backend_response_time",e.PLAY_MIDDLEWARE_TIME="play_middleware_time",e.PLAY_SSR_TIME="play_ssr_time",e.UNITED_PLAY_FULL_TIME="united_play_full_time",e.UNITED_PLAY_MIDDLEWARE_TIME="united_play_middleware_time",e.UNITED_PLAY_SSR_TIME="united_play_ssr_time",e.SSR_TIME="ssr_time",e.UAAS_FULL_TIME="uaas_full_time",e.UAAS_TIME="uaas_time"}(A||(A={}));Object.values({en:"com",kk:"kz",be:"by",ru:"ru",uz:"uz"});var b,S,O,P;!function(e){e.NO_ADS_ONE_DAY="no_ads.1",e.PREMIUM_ONE_DAY="premium.1"}(b||(b={})),function(e){e.GAMETOK="igrotok"}(S||(S={})),function(e){e.PLAYHOP="com",e.YANDEX="ru"}(O||(O={})),function(e){e.YANDEX="/games",e.PLAYHOP="",e.IGROTOK="/games"}(P||(P={}));function T(e){return[e,e.replace("https://","https://*.")]}function C(e,t){return t.reduce(((t,r)=>(t.push(...T(`https://${e}.${r}`)),t)),[])}C(i.U_.YANDEX,n).concat(C(i.U_.PLAYHOP,o)).concat(C(i.U_.YA,["ru"])).concat(["https://zenadservices.net"]),["https://101.ru","https://72.ru","https://74.ru","https://8bgames.com","https://academic.ru","https://advmusic.com","https://akket.com","https://amedia.online","https://androidoyun.club","https://app.technopolis.school","https://arcademoms.com","https://baby.ru","https://babygames.club","https://backtotheretro.games","https://braingames.guru","https://bubblebooms.com","https://budu5.com","https://bynogame.com","https://coonster.com","https://crabness.com","https://d3.ru","https://detifm.ru","https://diariodorio.com","https://digital155.com","https://dni.ru","https://dos4pc.com","https://e1.ru","https://eg.ru","https://elle.ru","https://eva.ru","https://ezjo.com","https://farmgames.io","https://findretro.games","https://fishki.net","https://flashgames.ru","https://folhape.com.br","https://fontanka.ru","https://food.ru","https://fotostrana.ru","https://freehtml5.games","https://freeretro.games","https://fundora.ru","https://g2k.co","https://gamecreating.ru","https://gameflare.com","https://gamelayer.ru","https://gamemoms.com","https://games4grandma.com","https://gamesamerica.us","https://gamescoops.com","https://gamesqwik.com","https://gamestough.com","https://gdz.ru","https://girlgames.app","https://gismeteo.ru","https://grymini.pl","https://guardian.ng","https://halloweenplay.com","https://heaptalk.com","https://hiddenobjectgames.club","https://hiddenobjectsaga.com","https://hotplayer.ru","https://huntinggames.io","https://hypercasualgames.io","https://igrixl.ru","https://igroutka.ru","https://igry-zlo.ru","https://informburo.kz","https://infox.ru","https://inoprosport.ru","https://iwantplay.games","https://izzygames.com","https://khelbazaar.games","https://kompas.com","https://kp.ru","https://kuloo.com","https://kun.uz","https://lenta.ru","https://lightaudio.ru","https://marieclaire.ru","https://match3games.club","https://maximonline-kdorohova.k8s.hsmdev.ru","https://maximonline-zhambal.k8s.hsmdev.ru","https://maximonline.ru","https://mempro.ru","https://minigiochi.com","https://minijogos.com.br","https://minijuegos.com","https://minijuegos.mx","https://miniplay.com","https://minispelletjes.com","https://mmpoo.com","https://multoigri.ru","https://musify.club","https://mysterygames.co","https://ngs.ru","https://nn.ru","https://olympicsportgames.com","https://onlinefootball.games","https://ourgames.ru","https://oyunlar.club","https://pandacubgames.com","https://petgames.club","https://play-games.com","https://playmap.ru","https://playmarket.com","https://playmobile.games","https://playretro.io","https://playshooters.com","https://racinggames.club","https://radbrothers.com","https://radbrothers.ru","https://rg.ru","https://roundgames.net","https://ru.hitmotop.com","https://runnergames.io","https://russkiiyazyk.ru","https://sabah.com.tr","https://sdamgia.ru","https://shootergames.io","https://simulatorgames.io","https://slothter.com","https://sm.news","https://socialgirlgames.com","https://spiele-umsonst.de","https://sport-express.ru","https://sportgames.io","https://starhit.ru","https://tengrinews.kz","https://thriller2play.com","https://toughgames.com","https://trochoi.io","https://turkanime.com","https://twoplayergames.org","https://virtualworldsfree.com","https://vm.ru","https://vseigru.net","https://vz.ru","https://we-reads.com","https://wi-fi.ru","https://woman.ru","https://xmasgames.co","https://xn----8sbhtdan8bc2f5a.xn--p1ai","https://xn--80ahcmt0c.kz","https://xn--80apijcrh7b9d.xn--p1ai","https://yourmahjong.com","https://zakon.kz","https://zvyki.com","https://baziro.ru","https://iokas.ru","https://moxovik.ru","https://hypmag.ru","https://motolife24.ru","https://joki-toki.ru","https://office-trand.ru","https://vk.com","https://nash-malish.ru","https://roalda.ru","https://cd-muz.ru","https://unionlab.ru","https://takvim.com.tr"].reduce(((e,t)=>(e.push(...T(t)),e)),[]);var k;!function(e){e.ADV_FULLSCREEN="adv_fullscreen",e.BALANCE_POPUP="balance_popup",e.BALANCE_REFILL="balance_refill",e.FEEDBACK="feedback",e.GAME_PAGE="game_page",e.NO_ADS_POPUP="no_ads_popup",e.PLAYED_GAMES="played_games",e.REWARDED_COUNTER="rewarded_counter",e.PURCHASE_DIALOG="purchase_dialog",e.SHORTCUT="shortcut",e.UNITED_PAGE="united_page"}(k||(k={}));const I=n.map((e=>e.replace(".","\\."))).join("|"),R=`(${i.U_.YANDEX}\\.(${I})|${i.U_.YA}.ru)`,x=o.map((e=>e.replace(".","\\."))).join("|"),D=["com","ru"].map((e=>e.replace(".","\\."))).join("|"),L=(new RegExp(`^https://(www\\.)?${R}$`),new RegExp(`^https://([^.]+\\.)*${R}\\/`),new RegExp(`^https://([^.]+\\.)*${i.U_.PLAYHOP}\\.(${x})$`)),N=`(igrotok|igrotok-test|igrotok\\.msup|igrotok\\.games-test|igrotok\\.games-prestable|igrotok\\.crowdtest\\.games)\\.(${i.U_.YANDEX}|${i.U_.YA})\\.(${D})`;new RegExp(N),new RegExp(`^https://${N}$`),new RegExp(`^https://([^.]+\\.)*${R}${P.YANDEX}/igrotok`),new RegExp(`^https?://(?:.*?\\.)*${R}${P.YANDEX}/manifest/play/\\d+/?`);var M;!function(e){e.YANDEX="yandex",e.APPODEAL="appodeal",e.APPLOVIN="applovin",e.DEFAULT=""}(M||(M={}));const U="from-gametok",G="is-gametok";var B;!function(e){e.IGROTOK="igrotok",e.PLAYHOP="playhop",e.YANDEX="yandex"}(B||(B={}));var F,H;!function(e){e.ANONYMOUS="anonymous"}(F||(F={})),function(e){e.COLUMN="column",e.LINE="line",e.LIST_CATEGORY="listCategory",e.LIST_TYPE="listType",e.ROW="row",e.SIZE="size",e.TAB_CATEGORY="tabCategory"}(H||(H={}));var Y;!function(e){e.USE_LOGGING="useLogging",e.WITH_LOG="with-log"}(Y||(Y={}))},(e,t,r)=>{"use strict";r.d(t,{KS:()=>s,U_:()=>n});var n,o;r(3);!function(e){e.PLAYHOP="playhop",e.YANDEX="yandex",e.YA="ya"}(n||(n={})),function(e){e.COMPANY_NAME="companyName",e.SERVICE_NAME="serviceName",e.WEBAPPS_CATEGORY_SERVICE_NAME="applicationsCategoryServiceName"}(o||(o={}));const a={[o.COMPANY_NAME]:{ru:"Ð¯Ð½Ð´ÐµÐºÑ",en:"Yandex"},[o.SERVICE_NAME]:{ru:"ÐÐ³ÑÑ",en:"Games"},[o.WEBAPPS_CATEGORY_SERVICE_NAME]:{ru:"ÐÐ»Ñ%20Ð¶Ð¸Ð·Ð½Ð¸",en:"LifeStyle"}},i=(n.YANDEX,n.YA,n.PLAYHOP,o.COMPANY_NAME,o.SERVICE_NAME,o.WEBAPPS_CATEGORY_SERVICE_NAME,["ru","uk","be","kk","uz"]),s=e=>!e||i.includes(e)},(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});r(55),r(3),r(0),r(12);var n=r(117);class o extends Error{constructor(e,t,r){let{code:n,message:a}=e;super(a,t,r),this.name="AuthError",this.code=n,Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o)}toJSON(){return{code:this.code,message:this.message,name:this.name,stack:this.stack}}}const a=o;var i=r(115),s=r(116);const c={AuthError:a,FetchError:i.Z,PaymentsError:s.Z};var d,l=r(112);function u(e,t){return function(e){var t;return(null===(t=e.abt)||void 0===t?void 0:t.flags)||e}(e)[t]}function p(e,t,r){return u(e,t)===r}!function(e){e.ADV="adv",e.APP="app",e.GUARD="guard",e.PREMIUM="premium",e.PROMO="promo",e.SCOPES="scopes"}(d||(d={}));var _;!function(e){e.ALWAYS="always",e.ONCE="once",e.NEVER="never"}(_||(_={}));function h(e){return p(e,l.lb.unitedPlayPage,!0)}class m{constructor(){this.suppressNoGameFrameWarning=!1,this._promises=Object.create(null),this._externalListeners=Object.create(null),this._internalListeners=Object.create(null),this._addEventListener()}get _parentTarget(){return window.parent!==window?window.parent:void 0}get _gamePlayerFrame(){const e=function(){const e=document.querySelector("iframe.game-player");if(e)return e}();return e||console.warn("No game player frame to post"),e}get _gameFrame(){const e=function(){const e=window.YandexGamesSDK&&window.YandexGamesSDK.FRAME_ID;if(e&&"string"==typeof e){const t=document.getElementById(e);if(t)return t}}();return e||this.suppressNoGameFrameWarning||console.warn("No game frame to post"),e}get _gameFrameAllowedOrigins(){var e;try{const t=null===(e=this._gameFrame)||void 0===e?void 0:e.dataset.allowedOrigins;if(!t)return;return JSON.parse(t)}catch(e){return}}get _childTarget(){var e,t;return-1===window.location.pathname.indexOf(l.mS)||h(window.appData.abt.flags)?null===(t=this._gameFrame)||void 0===t?void 0:t.contentWindow:null===(e=this._gamePlayerFrame)||void 0===e?void 0:e.contentWindow}_addEventListener(){window.addEventListener("message",(e=>{const{source:t}=e.data||{};"YandexGamesSDK"===t&&this._handleEvent(e)}))}_handleEvent(e){var t=this;const{type:r,action:o,messageId:a,originMessageId:i,payload:s,originPayload:d,data:l,error:u,errorJSON:p}=e.data||{},_=this._promises[i];_&&(delete this._promises[i],void 0===u?_.resolve({type:r,action:o,originPayload:d,data:l}):_.reject(function(e){let{error:t,errorJSON:r}=e;if(r)try{const e=JSON.parse(r);if(e&&e.name in c)return new c[e.name](e)}catch(e){(0,n.fF)(e)}return new Error(t||"")}({error:u,errorJSON:p})));const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={type:e.type||r,action:e.action||o,originMessageId:a,originPayload:s,data:e.data||{}};m(n,e),t.postCallbackToChild(n)};function m(e,t){t.error&&(e.error=String(t.error.message)||null,e.errorJSON=JSON.stringify(t.error)||null)}const g=this._externalListeners[r]||[];for(const t of g)try{t(e,h)}catch(e){(0,n.fF)(e)}}onAllMessages(e,t){this.onExternalMessage(e,t),this.onInternalMessage(e,t)}offAllMessages(e,t){this.offExternalMessage(e,t),this.offInternalMessage(e,t)}onExternalMessage(e,t){this._onMessage(this._externalListeners,e,t)}offExternalMessage(e,t){this._offMessage(this._externalListeners,e,t)}onInternalMessage(e,t){this._onMessage(this._internalListeners,e,t)}offInternalMessage(e,t){this._offMessage(this._internalListeners,e,t)}_onMessage(e,t,r){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const n of t)n in e||(e[n]=[]),e[n].push(r)}_offMessage(e,t,r){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const n of t)n in e&&(e[n]=e[n].filter((e=>e!==r)))}post(e){const{action:t,type:r}=e;return new Promise((o=>{const a=`${Date.now()}-${Math.random()}`,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={action:e.action||t,data:e.data||{},errorInstance:e.error,originMessageId:a,type:e.type||r};o(n)},s=this._internalListeners[r]||[];for(const t of s)try{t({data:Object.assign({},e)},i)}catch(e){(0,n.fF)(e)}}))}hasParent(){return Boolean(this._parentTarget)}postToParent(e){const t=this._parentTarget;return t?this._post(t,e):Promise.reject(new Error("No parent to post message"))}hasChild(){this.suppressNoGameFrameWarning=!0;const e=Boolean(this._childTarget);return this.suppressNoGameFrameWarning=!1,e}postToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}postCallbackToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}_post(e,t){const r=Date.now(),n=`${r}-${Math.random()}`;t=Object.assign({},t,{source:"YandexGamesSDK",messageId:n});let o=e=>{},a=e=>{};const i=new Promise(((e,t)=>{o=e,a=t}));this._promises[n]={promise:i,resolve:o,reject:a,time:r};try{e.postMessage(t,"*")}catch(e){return delete this._promises[n],Promise.reject(e)}return i}}let g;if("object"==typeof window)window.YandexGamesSDKReactBridge?(window.YandexGamesSDKReactBridge.messaging||(window.YandexGamesSDKReactBridge.messaging=new m),g=window.YandexGamesSDKReactBridge.messaging):g=new m;else{const e=()=>{throw new Error("Not impl")};g={hasChild:()=>!1,hasParent:()=>!1,offAllMessages:e,offExternalMessage:e,offInternalMessage:e,onAllMessages:e,onExternalMessage:e,onInternalMessage:e,post:e=>Promise.reject(new Error("Not impl")),postToChild:e=>Promise.reject(new Error("Not impl")),postToParent:e=>Promise.reject(new Error("Not impl"))}}const f=g},(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(0);class n extends Error{constructor(e,t,r){let{code:o,httpStatus:a,message:i}=e;super(i,t,r),this.name="FetchError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=n},(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(0);class n extends Error{constructor(e,t,r){let{code:o,httpStatus:a,message:i}=e;super(i,t,r),this.name="PaymentsError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=n},(e,t,r)=>{"use strict";r.d(t,{Ts:()=>d,X4:()=>a,Zi:()=>i,fF:()=>c});r(0);var n=r(114),o=r(118);const a="YandexSDKLogError";function i(e){var t;let r;try{throw new Error}catch(n){const o=/(\w+)@|at (.+) \(/g,a=e||n.stack||"";if(a.matchAll){const e=Array.from(a.matchAll(o))||[];r=null===(t=e[e.length-1])||void 0===t?void 0:t[2]}}return r}function s(e,t,r){var a,s,c;const d=function(e){var t,r;const n={columnNumber:null!==(t=e.columnNumber)&&void 0!==t?t:-1,fileName:e.fileName||"",lineNumber:null!==(r=e.lineNumber)&&void 0!==r?r:-1,name:e.name||"Error",message:e.message||String(e),stack:e.stack||""},a={appId:(0,o.rh)(),version:parseInt("1677650887",10)||0};return n.additional=Object.assign(Object.assign({},e.additional),a),n}(t);r.message&&(d.message=r.message),r.prefix&&(d.message=`${r.prefix} ${d.message}`),n.Z["YaGames"in window?"postToParent":"post"]({data:{block:`ErrorCounter/common: ${e}`,error:d,level:null!==(a=r.level)&&void 0!==a?a:"error",source:e,sourceMethod:null!==(s=r.sourceMethod)&&void 0!==s?s:i(d.stack),type:null!==(c=r.type)&&void 0!==c?c:"error"},type:"error"}).catch(console.warn)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s("sdk",e,t),console.warn(e)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s("sdk-game",e,t),console.error(e,a)}},(e,t,r)=>{"use strict";r.d(t,{$g:()=>_,rh:()=>m,mv:()=>g,H8:()=>h});r(0);var n=r(119),o=r(111),a=r(120);r(3);const i=[{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is hidden/),title:"Monetization error [yandex]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is hidden/),title:"Monetization error [google]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [yandex]: yandex error - Container is not found (init)"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [google]: yandex error - Container is not found (init)"}];var s;!function(e){e.AD_FOX="Adfox",e.ADV_STICKY="AdvSticky",e.APP_COMPONENT="App: component",e.APP_PAGE="App: page",e.BUNDLES_PLAY="Bundles play",e.GAME_IMAGE="GameImage",e.GAMETOK="Gametok",e.GOOGLE_ADS="Google ads",e.ERROR_BOUNDARY="Error boundary",e.ERROR_COUNTER="Error counter",e.I18N="i18n",e.METRIKA="Metrika",e.MONETIZATION="Monetization",e.OFFLINE_MOD_HELPER="Offline mod helper",e.REDUX="Redux",e.REDUX_GAMETOK="Redux in Gametok",e.RUM_NATIVE_ERROR="Rum: native error in catalog",e.RUM_UNSPECIFIED="Rum: unspecified error without block",e.SERVER_MIDDLEWARE="Server middleware",e.SERVICE_WORKER_REGISTRATION="ServiceWorker Registration",e.SERVICE_WORKER_UNREGISTRATION="ServiceWorker Unregistration",e.SHORTCUTS_POPUP_MANAGER="ShortcutsPopupManager",e.TURBO_APP="Turbo app",e.UTILS_LOCATION="Utils: location",e.UTILS_UNIVERSAL="Utils: universal",e.XSOLLA="Xsolla",e.WAIT_TTI="Wait TTI"}(s||(s={}));const c=()=>{var e;return Boolean("undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.Ya)||void 0===e?void 0:e.Rum))},d=()=>{var e,t;return Boolean(c()&&(null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.logError))};function l(){var e,t,r;try{throw new Error}catch(n){const o=/(\w+)@|at (.+) \(/g,a=n.stack||"";if(a.matchAll){const n=Array.from(a.matchAll(o))||[];return(null===(e=n[2])||void 0===e?void 0:e[2])||(null===(t=n[1])||void 0===t?void 0:t[2])||(null===(r=n[0])||void 0===r?void 0:r[2])}return}}const u=function(e,t){var r,n,o,c,u;if(!d())return;let{additional:p,level:_,message:h,prefix:m,source:g="catalog",sourceMethod:f}=e,v=(0,a._T)(e,["additional","level","message","prefix","source","sourceMethod"]);h=(e=>{for(const t of i)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return`[grouped] ${t.title}`;return e})(h||(null==t?void 0:t.message)||String(e)),_=_||(null===(n=null===(r=window.Ya)||void 0===r?void 0:r.Rum)||void 0===n?void 0:n.ERROR_LEVEL.ERROR)||"error",t=t||e,m&&(h=`${m} ${h}`);const y=Object.assign({additional:p,block:null!==(o=v.block)&&void 0!==o?o:s.RUM_UNSPECIFIED,ignoreErrorMessage:!0,level:_,message:h,source:g,sourceMethod:f||l()},v);null===(u=null===(c=window.Ya)||void 0===c?void 0:c.Rum)||void 0===u||u.logError(y,t)};parseInt("1677650887",10);const p=/^(?:https:\/\/app-([^.]+)\.games\.s3\.yandex\.net\/|https:\/\/games\.s3\.mdst\.yandex\.net\/([^/]+)\/|https:\/\/(?:.+\.)*yandex\.(?:ru|by|kz|ua|uz|com|com\.tr|az|co\.il|com\.am|com\.ge|ee|fi|fr|lt|lv|md|pl|tj|tm)\/games\/play\/([^/?&#]+))/;function _(e){const t={};g()&&(t.draft="true");const r=m();return r&&(t["app-id"]=r),(0,n.Z)({url:e,params:t})}function h(e){return"1"===(0,o.Z)(window.location).revert_unique_id?(0,n.Z)({url:e,params:{revert_unique_id:"1"}}):e}function m(){var e,t;if("undefined"==typeof window)return"";if(window.YandexGamesSDK&&window.YandexGamesSDK.environment)return window.YandexGamesSDK.environment.app.id;if(window.YandexGamesSDKEnvironment)return window.YandexGamesSDKEnvironment.app.id;console.warn("Can't get app id from `window.YandexGamesSDKEnvironment`",null===window||void 0===window?void 0:window.YandexGamesSDKEnvironment),u({block:s.UTILS_LOCATION,level:null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.ERROR_LEVEL.WARN},new Error("Old way: get app id from location"));const r=String(window.location).match(p);if(r)return r[1]||r[2]||r[3];return(0,o.Z)(window.location)["app-id"]||""}function g(){var e;if(null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game)return window.YandexGamesSDK.game.info.isDraft;return"true"===(0,o.Z)(window.location).draft}},(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});r(0),r(3);function n(e){const{url:t,params:r={},hash:n={},removed:a=[],encoded:i=!0}=e;if(!t)throw new Error("addGetParams: function has no url");const s=t.split("#"),c=s[0].split("?");let d=o(c,r,i,a),l=o(s,n,i,a);return d&&(d=`?${d}`),l&&(l=`#${l}`),`${c[0]}${d}${l}`}function o(e,t,r,n){return e.length>1&&e[1].length&&e[1].split("&").forEach((e=>{const[r,n]=e.split("=");if(!t[r])try{t[r]=decodeURIComponent(n)}catch(e){t[r]=n}})),Object.keys(t).filter((e=>!n.includes(e))).filter((e=>void 0!==e)).map((e=>`${e}=${r?encodeURIComponent(t[e]):t[e]}`)).join("&")}},(e,t,r)=>{"use strict";r.d(t,{_T:()=>n,mG:()=>o});function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function o(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{if(void 0!==r){var e=r.u,t=r.e,n={},o={};r.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},r.e=function(n){return t(n).catch((function(t){var a=o.hasOwnProperty(n)?o[n]:3;if(a<1){var i=e(n);throw t.message="Loading chunk "+n+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(e){setTimeout((function(){o[n]=a-1,e(r.e(n))}),0)}))}))}}})();var n={};(()=>{"use strict";r.d(n,{default:()=>Xr});r(0);var e,t,o,a,i,s=r(120);!function(e){e.Frontback="frontback",e.Catalog="catalog",e.Play="play",e.UnitedPlay="united-play",e.Igrotok="igrotok",e.SdkV2="sdk-v2",e.SdkV1="sdk-v1",e.SdkGameDistribution="sdk-game-distribution-v1",e.Polyfill="polyfill"}(e||(e={})),function(e){e.Tv="tv",e.Mobile="mobile",e.Desktop="desktop",e.Sw="sw"}(t||(t={})),function(e){e.Server="server",e.Client="client"}(o||(o={})),function(e){e.IgrotokOnboarding="onboarding",e.SdkProxy="proxy"}(a||(a={})),function(e){e.LEGACY="legacy",e.INTERSECTION_OBSERVER="intersection-observer",e.SMOOTH_SCROLL="smooth-scroll"}(i||(i={}));const c={[i.LEGACY]:"3.27.2",[i.INTERSECTION_OBSERVER]:"0.12.2",[i.SMOOTH_SCROLL]:"0.4.4"};r(12);function d(e,t){return function(e,t){return`${e}polyfill/${t}`}(e,`${c[t]}-${t}.js`)}var l=r(117),u=r(114);const p=()=>{["click","dblclick","mouseup","pointerup","touchend"].forEach((e=>{var t;document.addEventListener(e,(t=`${e}-on-body`,()=>{window.top&&window.top.postMessage({type:"document-events",action:t},"*")}),!0)}))};var _=r(111),h=r(112);r(3);const m=e=>{const t=new URL(e);class r{constructor(){this.items=[]}contains(e){return this.items.includes(e)}item(e){var t;return null!==(t=this.items[e])&&void 0!==t?t:null}get length(){return this.items.length}*[Symbol.iterator](){}}return{location:{ancestorOrigins:new r,hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,assign:()=>{},reload:()=>{},replace:()=>{}}}},g="undefined"!=typeof window?window:m("https://yandex.ru/games/app/1");var f,v,y;!function(e){e.CLICK="click",e.CLICK_GAME_PAGE="click_game_page",e.CLOSE_GAME_PAGE="close_game_page",e.COMMENT="comment",e.GAME_STARTED="game_started",e.OPENING_GAME_PAGE="opening_game_page",e.OPEN_GAME_PAGE="open_game_page",e.RATING="rating",e.SHOW="show",e.TIME="time"}(y||(y={}));var E;!function(e){e.ABLOCK_POPUP_OPEN="adblock_popup_open",e.ABLOCK_POPUP_HELP="adblock_popup_help",e.ABLOCK_POPUP_CLOSE="adblock_popup_close",e.ACCEPTED_YAN_GAMES_LINK_CLICK="accepted_yan_games_link_click",e.ADAPTIVE_FEED_USER="adaptive_feed_user",e.ADD_RECENT_GAME="add_recent_game",e.ADV_CLICK="adv_click",e.ABOUT_YAN_INFO_CLOSE_CLICK="about_yan_info_close_click",e.BALANCE_POPUP_CLOSE="balance_popup_close",e.BALANCE_REFILLED_BUY_MORE="balance_refilled_buy_more",e.BALANCE_REFILLED_CLOSE="balance_refilled_close",e.BALANCE_REFILLED_COPY="balance_refilled_copy",e.BALANCE_REFILLED_SHOW="balance_refilled_show",e.BEFORE_INSTALL_EVENT_CATCH="before_install_event_catch",e.BEFORE_INSTALL_EVENT_EXIST="before_install_event_exist",e.CALENDAR_PROMO_CLICK="calendar_promo_click",e.CATALOG_SHORTCUT_CLICK="catalog_shortcut_click",e.CATEGORY_CLICK="category_click",e.CLICK_PARTNER_BUTTON="click_partner_button",e.CLICK_SHARE_LEADERBOARD="click_share_leaderboard",e.CLICK_SHARE_LEADERBOARD_CLIPBOARD="click_share_leaderboard_clipboard",e.CLICK_SHORTCUT_BUTTON="click_shortcut_button",e.CLICK_SIDEBAR_BUTTON="click_sidebar_button",e.CREATE_LEADERBOARD="create_leaderboard",e.CLOSE_BUTTON_CLICK="close_button_click",e.DELETE_RECENT_GAME="delete_recent_game",e.DEVELOPER_PAGE_CLICK="developer_page_click",e.GAME_PROMO_OPEN="game_promo_open",e.GAME_PROMO_CLOSE="game_promo_close",e.GOING_TO_INSTALL_GAME="going_to_install_game_",e.SHORTCUT_GAME_API_CHECK="shortcut_game_api_check",e.JOIN_LEADERBOARD_OPEN="join_leaderboard_open",e.GUARD_APPLY="guard_apply",e.INVALIDATE_GAME_CACHE="invalidate_game_cache",e.INVALIDATE_GAME_CACHE_SUCCESS="invalidate_game_cache_success",e.INVALIDATE_GAME_CACHE_FAILED="invalidate_game_cache_failed",e.INVALIDATE_CATALOG_CACHE="invalidate_catalog_cache",e.INVALIDATE_CATALOG_CACHE_SUCCESS="invalidate_catalog_cache_success",e.INVALIDATE_CATALOG_CACHE_FAILED="invalidate_catalog_cache_failed",e.MERGE_CONFLICTS_RESOLVE="merge_conflicts_resolve",e.MERGE_CONFLICTS_SHOW="merge_conflicts_show",e.NEW_PROMO_BUTTON_CLICK="new_promo_button_click",e.NO_ADS_CATALOG_MENU_CLICK="no_ads_catalog_menu_click",e.NO_ADS_CATALOG_POPUP_HAS_EXP="no_ads_catalog_popup_has_exp",e.NO_ADS_CATALOG_POPUP_SHOWN="no_ads_catalog_popup_shown",e.NO_ADS_CATALOG_PROFILE_CLICK="no_ads_catalog_profile_click",e.NO_ADS_CATALOG_PROFILE_PURCHASE_BUTTON_CLICK="no_ads_catalog_profile_purchase_button_click",e.NO_ADS_GAME_POPUP_BUTTON_CLICKED="no_ads_game_popup_button_clicked",e.NO_ADS_GAME_POPUP_CLOSED="no_ads_game_popup_closed",e.NO_ADS_GAME_POPUP_HAS_EXP="no_ads_game_popup_has_exp",e.NO_ADS_GAME_POPUP_SHOWN="no_ads_game_popup_shown",e.PROMO_CARD_CLICK="promo_card_click",e.PROMOS_BANNER_CLICK="promos_banner_click",e.PROMOS_GAMECARD_CLICK="promos_gamecard_click",e.PURCHASES_PLATFORM_PRODUCT_ERROR="purchases_platform_product_error",e.PURCHASES_PLATFORM_PRODUCT_START="purchases_platform_product_start",e.PURCHASES_PLATFORM_PRODUCT_SUCCESS="purchases_platform_product_success",e.PURCHASES_PURCHASE_SUCCESS="purchases_trust_purchase_success",e.PURCHASES_PURCHASE_OPEN="purchases_purchase_open",e.PURCHASES_PURCHASE_OPENED="purchases_purchase_opened",e.PURCHASES_PURCHASE_CLOSE="purchases_purchase_close",e.PURCHASES_PURCHASE_PACKAGE_CHANGE="purchases_purchase_package_change",e.PURCHASES_PURCHASE_PAYMENT_SYSTEM_LOAD_ERROR="purchases_purchase_payment_system_load_error",e.PURCHASES_PURCHASE_EMAIL_ENTERED="purchases_purchase_email_entered",e.PURCHASES_PURCHASE_UNSUCCESS="purchases_purchase_unsuccess",e.PURCHASES_PURCHASE_PAYMENT_SUCCESS="purchases_purchase_payment_success",e.PURCHASES_PURCHASE_PAYMENT_PART_SUCCESS="purchases_purchase_payment_part_success",e.PORTAL_CURRENCY_ON_BOARD_CLICK="portal_currency_on_board_click",e.RECOVERY_CODE_APPLY="recovery_code_apply",e.RECOVERY_CODE_COPY="recovery_code_copy",e.REMOVE_GAME_CACHE="remove_game_cache",e.REFILL_BUTTON_CLICK="refill_button_click",e.REFILL_WITH_BONUS_BUTTON_CLICK="refill_with_bonus_button_click",e.SEARCH_BUTTON_CLICK="search_button_click",e.SHARE_BUTTON_CLICK="share_button_click",e.SHORTCUT_GAME_CHECK="shortcut_game_check",e.SHORTCUT_GAME_CLICK="shortcut_game_click",e.SHORTCUT_GAME_CLICK_CLOSE="shortcut_game_close_click",e.SHORTCUT_GAME_SHOW="shortcut_game_show",e.SHORTCUT_POPUP_CHECK="shortcut_popup_check",e.SHORTCUT_POPUP_CLICK="shortcut_popup_click",e.SHORTCUT_POPUP_CLICK_CLOSE="shortcut_popup_close_click",e.SHORTCUT_POPUP_DISAPPEARED="shortcut_popup_disappeared",e.SHORTCUT_POPUP_EXP_EXIST="shortcut_popup_exp_exist",e.SHORTCUT_POPUP_NOT_SHOW="shortcut_popup_not_show",e.SHORTCUT_POPUP_NO_EVENT_TO_SHOW="shortcut_popup_no_event_to_show",e.SHORTCUT_POPUP_SHOW="shortcut_popup_show",e.SHORTCUT_POPUP_IOS_SHOW="shortcut_popup_ios_show",e.SHORTCUT_POPUP_IOS_CLICK="shortcut_popup_ios_click",e.SHORTCUT_PROMO_CLICK="shorcut_promo_click",e.SHORTCUT_PROMPT_SHOW="shortcut_prompt_show",e.SHORTCUT_USER_CHOICE_ACCEPTED="shortcut_user_choice_accepted",e.SHORTCUT_USER_CHOICE_DISMISSED="shortcut_user_choice_dismissed",e.SHOW_GROUP_LEADERBOARDS="show_group_leaderboard",e.SUPPORT_BUTTON_CLICK="support_button_click",e.SUCCESS_PURCHASE="success_purchase_%app_id%",e.SUCCESS_PURCHASE_TRANSACTION="success_purchase_transaction",e.TURBOAPPS_WITH_ERROR_FOUND="turboapps_with_error_found",e.USER_ACTIVITY_POPUP_SHOW="user_activity_popup_show",e.WELCOME_BONUS_POPUP_SHOW="welcome_bonus_popup_show",e.WELCOME_BONUS_POPUP_CLICK="welcome_bonus_popup_click",e.PLAY_UPDATED="play_updated",e.SHORTCUT_DAILY_INFO="shortcut_daily_info",e.TAG_CLICK="tag_click",e.UNITED_PAGE_SUCCESS_AUTH="united_page_success_auth",e.USER_POPUP_ACTION="user_popup_action",e.USER_IS_CHILD="user_is_child"}(E||(E={}));const w="R-I-320442-1";var A;!function(e){e[e.NONE=0]="NONE",e[e.LOG_TO_CONSOLE=1]="LOG_TO_CONSOLE",e[e.LOG_WITH_TRACE=2]="LOG_WITH_TRACE"}(A||(A={}));const b="object"==typeof window?parseInt(null!==(v=null===(f=String(window.location).match("sdk-debug-mode=([1-2])"))||void 0===f?void 0:f[1])&&void 0!==v?v:"0",10):A.NONE,S=Boolean(b),O=S&&class{static SetFlag(e,t){return e|t}static UnsetFlag(e,t){return e&~t}static HasFlag(e,t){return(e&t)===t}static ToggleFlag(e,t){return e^t}}.HasFlag(b,A.LOG_WITH_TRACE);function P(){const e=()=>{};return e.spoiler=()=>e,e.spoilerFunc=()=>e,e}function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;var n,o;const a="boolean"==typeof t?t:S;if(!a)return P();e=`%cDebug%c${e}%c`;const i="background: dimgrey;\n         color: darkgrey;\n         font-size: 8px;\n         font-weight: normal;\n         border-radius:4px 0 0 4px;\n         padding: 2px",s=`background: ${null!==(n=null==r?void 0:r.background)&&void 0!==n?n:"peru"};\n         color: ${null!==(o=null==r?void 0:r.text)&&void 0!==o?o:"black"};\n         font-size: 8px;\n         font-weight: normal;\n         border-radius: 0 4px 4px 0;\n         padding: 2px;`,c="font-weight: normal;";if(!O){const t=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.info(e,i,s,c,...r)};return t.spoiler=()=>t,t.spoilerFunc=()=>t,t}let d=[];const l=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(console.groupCollapsed(e,i,s,c,...r),d.length){for(const e of d)console.log(...e);d=[]}console.trace(),console.groupEnd()};return l.spoiler=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.push(t),l},l.spoilerFunc=e=>(d.push([e()]),l),l}var C;!function(e){e.GAME="game",e.GAME_PAGE="gamePage",e.BLOCK="block",e.ADV="adv",e.KINOPOISK="kinopoisk"}(C||(C={}));var k;!function(e){e.GUARD="guard",e.MENU="menu",e.HEADER="header",e.SLIDE="slide"}(k||(k={}));var I;!function(e){e.APPLICATION_STATE="yandexGames_application_state",e.GAMETOK_APPLICATION_STATE="yandexGames_gametok_application_state"}(I||(I={}));var R,x,D,L;!function(e){e.Control="control",e.AllFeatures="all-features"}(R||(R={})),function(e){e.Catalog="catalog",e.Play="play"}(x||(x={})),function(e){e.WelcomeBonusPopup="welcome-bonus-popup",e.BalancePopup="balance-popup"}(D||(D={})),function(e){e.CLICK_BUTTON_DISABLE_AD="click-button-disable-ad",e.CLICK_BUTTON_SKIP_AD="click-button-skip-ad",e.ERROR="error",e.EMPTY="empty",e.NOT_SHOW_CONDITION="not-show-condition",e.RENDER_END="renderEnd",e.SHOW_BUTTON_DISABLE_AD="show-button-disable-ad",e.SHOW="show",e.SKIP="skip"}(L||(L={}));var N=r(113);function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.endsWith(`${N.U_.YA}.ru`)}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",r=arguments.length>2?arguments[2]:void 0;return e=e.replace("%TLD%",t),"ru"===t&&M(r)&&(e=e.replace(`${N.U_.YANDEX}.ru`,`${N.U_.YA}.ru`)),e}var G,B;const F=T("src/sdk/utils/env"),H="undefined"!=typeof window&&((null===(G=window.appData)||void 0===G?void 0:G.env)||(null===(B=window.gameTokAppData)||void 0===B?void 0:B.env))||void 0,Y=H?H.NODE_ENV:"production",j="production"===Y||"stress"===Y;F("IS_PROD",j),F("NODE_ENV",Y);const K=(0,_.Z)(g.location),W=(j||parseInt(K.test_uid,10),j||K.test_email,j||K.test_oauth,"true"===K.yandexapp),$=K.origin||void 0||g.location.origin,V=Boolean(g.location.origin.match(h.SB)),Z=g.location.hostname.endsWith("ya.ru");const z=V?N.U_.PLAYHOP:Z?N.U_.YA:N.U_.YANDEX,q=($.match(new RegExp(`[.\\/]${z}\\.([a-z.]+)$`))||["","ru"])[1],X=(H?H.SDK_BACKEND_URL:"https://games-sdk.yandex.%TLD%/games/api/sdk/v1")||"",J=(H?H.PLAYHOP_SDK_BACKEND_URL:"https://games-sdk.playhop.%TLD%/games/api/sdk/v1")||"",Q=V?U(J,q):U(X,q,g.location.host);F("BACKEND_SDK_URL",Q);H&&H.OAUTH_CLIENT_ID,H&&H.SDK_PASSPORT_PREFIX;var ee=r(118);r(55);T("AdvStickyBanner");var te,re,ne,oe,ae;!function(e){e.BOTTOM="bottom",e.RIGHT="right",e.LEFT="left",e.UPPER="upper"}(te||(te={})),function(e){e.RIGHT="right"}(re||(re={})),function(e){e.DESKTOP="desktop",e.DESKTOP_ADDITIONAL="desktop_additional",e.LANDSCAPE="landscape",e.LANDSCAPE_ADDITIONAL="landscape_additional",e.PORTRAIT="portrait"}(ne||(ne={})),function(e){e.COLUMN="column",e.ROW="row"}(oe||(oe={})),function(e){e.ADV_IS_NOT_CONNECTED="ADV_IS_NOT_CONNECTED",e.UNKNOWN="UNKNOWN"}(ae||(ae={}));const ie="undefined"!=typeof window&&"1"===(0,_.Z)(window.location)[h.x2],se=("undefined"!=typeof window&&(0,_.Z)(window.location)[h.p4],"undefined"!=typeof window&&(0,_.Z)(window.location)[h.x2],T("NoAds")),ce="yandex-games-no-ads-style";function de(){Array.isArray(window.adfoxAsyncParams)&&0!==window.adfoxAsyncParams.length&&(window.adfoxAsyncParams=[]),Array.isArray(window.yaContextCb)&&0!==window.yaContextCb.length&&(window.yaContextCb=[]),Array.isArray(window.yandexContextAsyncCallbacks)&&0!==window.yandexContextAsyncCallbacks.length&&(window.yandexContextAsyncCallbacks=[])}let le=!1;function ue(){le||(le=!0,se("_disableAds"),pe(),function(){var e,t,r;const n={destroy(){se("Ya.Context.AdvManager.destroy disabled")},render(e,t){"function"==typeof t?t():"function"==typeof e.altCallback?e.altCallback():"function"==typeof e.onError&&e.onError({code:"YA_GAMES_ADS_DISABLED",text:"",type:"error"})}};"function"==typeof(null===(r=null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Context)||void 0===t?void 0:t.AdvManager)||void 0===r?void 0:r.render)&&(window.Ya.Context.AdvManager.render=n.render),de();let o=window.Ya;Object.defineProperty(window,"Ya",{get(){var e;return(null===(e=null==o?void 0:o.Context)||void 0===e?void 0:e.AdvManager)&&o.Context.AdvManager!==n&&(o.Context.AdvManager=n),de(),o},set(e){var t;(null===(t=e.Context)||void 0===t?void 0:t.AdvManager)&&e.Context.AdvManager!==n&&(e.Context.AdvManager=n),o=e},enumerable:!0,configurable:!0}),window.Ya=window.Ya||{},window.Ya.Context=window.Ya.Context||{AdvManager:n},window.Ya.Context.AdvManager=n,se("disable Ya.Context.AdvManager.render")}())}function pe(){!function(){var e;if(document.getElementById(ce))return;const t=document.createElement("style");t.id=ce,t.textContent='\nbody div[id*="yandex_rtb"],\nbody div[id*="adfox"],\nbody iframe#bwiframe,\nbody iframe[src*="yabnrwall.html"],\nbody iframe[src*="yartbbnr.html"],\nbody yatag,\nbody yatag[class]\n{ display: none !important; }',null===(e=document.body)||void 0===e||e.appendChild(t)}()}const _e=T("AdvManager");class he{constructor(e){var t;this.options=e,this.adOpened=!1,this.callbacks=[],this.lastCloseFullscreenTime=0,this.startTime=Date.now(),this.adv=this.options.adv||{},(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isWorldWide)?this.setDisabledState(!0):ie&&pe(),Object.defineProperty(this,"callbacks",{enumerable:!1}),Object.defineProperty(this.adv,"onAdvClose",{enumerable:!1}),u.Z.onExternalMessage("adv-manager",(e=>{var t,r,n,o,a,i,s,c,d,u,p,_,h,m,g,f;switch(e.data.action){case"adv-callback-open":null===(r=(t=this.callbacks).onOpen)||void 0===r||r.call(t);break;case"adv-callback-close":this.adOpened=!1,this.lastCloseFullscreenTime=Date.now(),this._hideAdv(e.data.data.wasShown);break;case"adv-callback-error":this.adOpened=!1,this._hideAdv(e.data.data.wasShown);try{if("string"!=typeof(null===(o=null===(n=e.data.data)||void 0===n?void 0:n.error)||void 0===o?void 0:o.message)){const t=new Error("Undefined error message");try{t.additional=JSON.stringify(e.data.data)}catch(e){t.additional="undefined"}(0,l.fF)(t)}}catch(e){}null===(i=(a=this.callbacks).onError)||void 0===i||i.call(a,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"adv-callback-offline":this.adOpened=!1,this._hideAdv(),null===(c=(s=this.callbacks).onOffline)||void 0===c||c.call(s);break;case"rewarded-video-callback-open":null===(u=(d=this.callbacks).onOpen)||void 0===u||u.call(d);break;case"rewarded-video-callback-rewarded":null===(_=(p=this.callbacks).onRewarded)||void 0===_||_.call(p);break;case"rewarded-video-callback-close":this.adOpened=!1,null===(m=(h=this.callbacks).onClose)||void 0===m||m.call(h);break;case"rewarded-video-callback-error":this.adOpened=!1,null===(f=(g=this.callbacks).onError)||void 0===f||f.call(g,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"set-disabled-state":_e('On "set-disabled-state" event',e.data,e.data.data.value),this.setDisabledState(e.data.data.value)}})),this.updateDisabledState()}updateDisabledState(){u.Z.postToParent({type:"adv-manager",action:"get-disabled-state"}).then((e=>{let{data:t}=e;this.setDisabledState(t.value)})).catch(console.warn)}setDisabledState(e){_e("setDisabledState",e),e?ue():le&&(le=!1)}openAdLock(e,t){var r,n;let o;return this.adOpened?(o=new Error("Another ad already opened"),null===(r=e.onError)||void 0===r||r.call(e,o)):t&&Math.abs(Date.now()-this.lastCloseFullscreenTime)<5e3&&(o=new Error("Please, don't try to open advertising often than once per 5000ms"),(0,ee.mv)()&&(null===(n=e.onError)||void 0===n||n.call(e,o))),o?((0,l.fF)(o),this._callOnAdvClose(),!1):(this.adOpened=!0,!0)}showFullscreenAdv(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._addCallbacks(e,["onClose","onOpen","onError","onOffline"]),this.openAdLock(e,!0))return u.Z.postToParent({type:"adv-manager",action:"adv-show-fullscreen"}).catch((e=>{var t,r;this.adOpened=!1,(0,l.fF)(e),null===(r=(t=this.callbacks).onError)||void 0===r||r.call(t,e),this._hideAdv()})),this}showRewardedVideo(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.openAdLock(e,!1))return this._addCallbacks(e,["onOpen","onRewarded","onClose","onError"]),u.Z.postToParent({type:"adv-manager",action:"adv-show-rewarded-video"}).catch((e=>{var t,r;this.adOpened=!1,(0,l.fF)(e),null===(r=(t=this.callbacks).onError)||void 0===r||r.call(t,e)})),this}showBannerAdv(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?u.Z.postToParent({type:"adv-manager",action:"adv-show-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,l.fF)(t),e({stickyAdvIsShowing:!1,reason:ae.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:ae.ADV_IS_NOT_CONNECTED})}))}hideBannerAdv(){return new Promise((e=>{u.Z.postToParent({type:"adv-manager",action:"adv-hide-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{e({stickyAdvIsShowing:!1}),(0,l.fF)(t)}))}))}getBannerAdvStatus(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?u.Z.postToParent({type:"adv-manager",action:"adv-status-sticky-banner"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,l.fF)(t),e({stickyAdvIsShowing:!1,reason:ae.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:ae.ADV_IS_NOT_CONNECTED})}))}_hideAdv(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._callOnAdvClose(e)}_addCallbacks(e,t){t.forEach((t=>{this.callbacks[t]="function"==typeof e[t]?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return function(){try{return e(...arguments)}catch(e){(0,l.fF)(e,{prefix:t}),r&&r(e)}}}(e[t],`Error in callback ${t}: `):()=>{}}))}_callOnAdvClose(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,r;if("function"==typeof this.adv.onAdvClose)try{this.adv.onAdvClose(e)}catch(e){(0,l.Ts)(e)}null===(r=(t=this.callbacks).onClose)||void 0===r||r.call(t,e)}}const me=T("AuthManagerPrivate");const ge=new class{constructor(){this.onExternalAuthMessage=e=>{const{action:t,data:r}=e.data;"changed"===t&&this.switchAuthState(r.hasAuth)},this.initMessaging(),this.getAuthState()}initMessaging(){u.Z.onExternalMessage("auth",this.onExternalAuthMessage)}switchAuthState(e){this.hasAuthValue!==e&&(me(`switch auth state to ${e}`),this.hasAuthValue=e)}getAuthState(){u.Z.postToParent({type:"auth",action:"has-auth"}).then((e=>{let{data:{hasAuth:t}}=e;this.switchAuthState(t)}))}hasAuth(){return void 0===this.hasAuthValue&&((0,l.fF)(new Error("AuthManagerPrivate.hasAuth() called when state is not defined")),this.hasAuthValue=!0),this.hasAuthValue}};const fe=new class{openAuthDialog(){return u.Z.postToParent({type:"auth",action:"auth-dialog-open",data:{initializer:"auth-manager-public"}})}};var ve=r(115);let ye;ye=r(107).Z;const Ee=ye;h.xY.L,h.xY.CATEGORIZED_NEW_L,h.xY.RECOMMENDED_NEW,h.xY.ADAPTIVE_RECOMMENDED_NEW,h.xY.PROFILE_RECENT_GAMES,h.xY.PREMIUM_BIG,h.xY.TV,h.xY.SINGLE;var we;!function(e){e.PORTRAIT="272x484",e.LANDSCAPE="564x318_1"}(we||(we={}));var Ae;!function(e){e.BIG="big",e.NORMAL="normal",e.ISLANDS_200="islands-200",e.ISLANDS_MIDDLE="islands-middle",e.ISLANDS_75="islands-75",e.ISLANDS_RETINA_SMALL="islands-retina-small",e.ISLANDS_RETINA_MEDIUM="islands-retina-medium"}(Ae||(Ae={}));const be="0/0-0";var Se=r(92);function Oe(e,t,r){var n,o;if(!e)return;let a=function(e,t,r){let n;try{let t=new URL(e);n=Se.parse((r?t.hash:t.search).slice(1))}catch(e){return}if(void 0===n)return;let o=null==n?void 0:n[t];return o?Array.isArray(o)?o[0]:o:void 0}(e,"sdk_url",t);if(void 0===a)return;const i=void 0!==r?r.SDK_CUSTOM_DOMAINS:process.env.SDK_CUSTOM_DOMAINS;if(!i)return;let s;try{s=JSON.parse(i)}catch(e){return}if(void 0===s)return;return null!==(o=null===(n=null==s?void 0:s[a])||void 0===n?void 0:n.apiDomain)&&void 0!==o?o:void 0}function Pe(e){var t;let r=new URL(e);if(null===(t=null===window||void 0===window?void 0:window.appData)||void 0===t?void 0:t.env){let e=Oe(window.location.href,!0,window.appData.env);if(e)return r.hostname=e,r.href}return e}const Te={small:Ae.ISLANDS_RETINA_SMALL,medium:Ae.ISLANDS_RETINA_MEDIUM,large:Ae.ISLANDS_200},Ce={small:Ae.ISLANDS_200,medium:Ae.ISLANDS_200,large:Ae.BIG},ke=`${Q}/player`;class Ie{constructor(e){this._personalInfo=e}getID(){return(0,l.Ts)(new Error("Player.getID() is deprecated. Please, use Player.getUniqueID().\nhttps://yandex.ru/dev/games/doc/dg/sdk/sdk-player.html#sdk-player__profile-data")),Ee.sendOnceDeprecatedUsage("Player.getID"),this._personalInfo.id}getUniqueID(){return this._personalInfo.uniqueID}getName(){return this._personalInfo.publicName}getMode(){var e;return null!==(e=this._personalInfo.mode)&&void 0!==e?e:""}getPhoto(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";const t=Te[e];if(!t)throw new Error(`Unknown size value ('${e}')`);return this._personalInfo.avatarIdHash?`${Pe(ke)}/avatar/${this._personalInfo.avatarIdHash}/${t}`:`https://avatars.mds.yandex.net/get-yapic/${be}/${t}`}hasPremium(){var e;return null!==(e=this._personalInfo.hasPremium)&&void 0!==e&&e}}function Re(e,t){let r,n;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];const s=a,c=this;return r||(r=!0,setTimeout((()=>r=!1),t),n=e.apply(c,s)),n}}function xe(){return/iPad|iPhone|iPod/.test(window.navigator.platform)||window.navigator.userAgent.includes("Mac")&&"ontouchend"in document}var De=r(119);function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((e=>{void 0===r[e]&&delete r[e]}));const n=(0,De.Z)({url:`${e}${t}`,params:r});return(0,ee.$g)(n)}function Ne(e){const{api:t,authRequired:r,path:n,params:o,timeout:a}=e;return new Promise(((e,i)=>{const s=Le(t,n,o);if(!s)return void i(new Error("Can not create URL"));u.Z.postToParent({type:"fetch",data:{authRequired:r,options:{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"},timeout:a,url:s}}).then((t=>{let{data:{result:r}}=t;e(r)})).catch(i)}))}function Me(e){const{api:t,authRequired:r,data:n,params:o,path:a,timeout:i}=e;return new Promise(((e,s)=>{const c=Le(t,a,o);if(!c)return void s(new Error("Can not create URL"));const d={body:JSON.stringify(n),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer-when-downgrade"};u.Z.postToParent({type:"fetch",data:{authRequired:r,options:d,timeout:i,url:c}}).then((t=>{let{data:{result:r}}=t;e(r)})).catch(s)}))}const Ue=`${Q}/leaderboard`,Ge=4e3,Be=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Ne({api:Pe(Ue),timeout:Ge,path:e,params:t,authRequired:Boolean(null==r?void 0:r.authRequired)})},Fe=Re((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Me({api:Pe(Ue),timeout:Ge,authRequired:!0,path:e,data:t,params:r})}),1e3);class He{constructor(){this._appId=(0,ee.rh)()}getLeaderboardDescription(e){return Be("/descr",{"app-id":this._appId,name:e})}getLeaderboardStat(e){return Be("/stat",{"app-id":this._appId,name:e})}transformLeaderboardEntry(e){const{avatarIdHash:t,lang:r,publicName:n,scopePermissions:o,uniqueID:a}=e.player,i=`${ke}/avatar/${t}`;return Object.assign(Object.assign({},e),{player:{getAvatarSrc:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return Te[e]||(e="medium"),`${i}/${Te[e]}`},getAvatarSrcSet:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return Te[e]||(e="medium"),`${i}/${Te[e]} 1x, ${i}/${Ce[e]} 2x`},lang:r,publicName:n,scopePermissions:o,uniqueID:a}})}transformLeaderboardEntries(e){return e.map(this.transformLeaderboardEntry)}getLeaderboardEntries(e,t){const{includeUser:r=!1,quantityAround:n=5,quantityTop:o=5}=t||{};return Be((0,ee.H8)("/entries"),{"app-id":this._appId,include_user:r,name:e,quantity_around:n,quantity_top:o},{authRequired:r}).then((e=>{const{entries:t,leaderboard:r,ranges:n,userRank:o}=e;return{entries:this.transformLeaderboardEntries(t),leaderboard:r,ranges:n,userRank:o}}))}getLeaderboardPlayerEntry(e){return Be((0,ee.H8)("/player-entry"),{"app-id":this._appId,name:e},{authRequired:!0}).then((e=>{if(!e)throw new ve.Z({code:"LEADERBOARD_PLAYER_NOT_PRESENT",httpStatus:204,message:"Player is not present in leaderboard"});return this.transformLeaderboardEntry(e)}))}setLeaderboardScore(e,t,r){const n={"app-id":this._appId,name:e,score:t};return-1!==window.location.href.toLowerCase().indexOf("utm_source=viber")&&(n.fromViber=!0),this.lastTimeLeaderboardWasSend&&!this.canSetLeaderboardScoreByTime()?Promise.reject("The request to setLeaderboardScore can be sent no more than once per second"):(r&&(n.extraData=r),this.lastTimeLeaderboardWasSend=Date.now(),Fe("/score",n))}canSetLeaderboardScoreByTime(){return Date.now()-this.lastTimeLeaderboardWasSend>1e3}}const Ye=()=>{const e=new He;return Promise.resolve(e)};var je=r(116);var Ke,We,$e,Ve,Ze;!function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(Ke||(Ke={})),function(e){e.click="click",e.show="show",e.rating="rating",e.comment="comment",e.playPageFeedbackClose="play_page_feedback_close",e.playPageFeedbackShow="play_page_feedback_show",e.openingGamePage="opening_game_page",e.clickGamePage="click_game_page",e.openGamePage="open_game_page",e.closeGamePage="close_game_page",e.clickFilm="clickFilm",e.showFilm="showFilm"}(We||(We={})),function(e){e.ADD_RECENT_GAME="add_recent_game_time",e.DELETE_RECENT_GAME="delete_recent_game_time",e.GET_GAMES_WITH_PROMO="get_games_with_promo_time",e.GET_TAGS="get_tags_time",e.LOAD_CATALOG_DATA="load_catalog_data_time",e.LOAD_SEARCH_DATA="load_search_data_time",e.SET_RATING="set_rating_time"}($e||($e={})),function(e){e.IS_TURBO_APP="is_turbo_app",e.NO_CATALOG_SESSION_ID="no_catalog_session_id",e.CHECK_SUM_CHANGED="check_sum_changed",e.TAB_CHANGED="tab_changed",e.TAG_ID_CHANGED="tag_id_changed",e.ADD_FIRST_GAME="add_first_game"}(Ve||(Ve={})),function(e){e.LOAD_GAME_DATA="load_game_data_{format}_time"}(Ze||(Ze={}));var ze;!function(e){e.NEW="new",e.PROMO="promo"}(ze||(ze={}));const qe="companyName",Xe="serviceName",Je={[N.U_.PLAYHOP]:{[qe]:{ru:"Playhop",en:"Playhop"},[Xe]:{ru:"Playhop",en:"Playhop"}},[N.U_.YANDEX]:{[qe]:{ru:"Ð¯Ð½Ð´ÐµÐºÑ",en:"Yandex"},[Xe]:{ru:"ÐÐ³ÑÑ",en:"Games"}}};Je[N.U_.YA]=Je[N.U_.YANDEX];var Qe,et;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda",e.arrow="arrow",e.caption="caption",e.feedback="feedback",e.gamePage="gamePage",e.gamePageBody="gamePageBody",e.gamePageFeedback="gamePageFeedback",e.gamePageFloater="gamePageFloater",e.gamePageLeaderboard="gamePageLeaderboard",e.picture="picture",e.playButton="playButton",e.organic="organic"}(Qe||(Qe={})),function(e){e.apply="apply",e.backButton="backButton",e.cross="cross",e.escape="escape",e.paranja="paranja",e.scroll="scroll"}(et||(et={}));var tt;!function(e){e.RU="ru",e.EN="en",e.BE="be",e.UK="uk",e.KK="kk",e.UZ="uz",e.TR="tr"}(tt||(tt={}));const rt=tt.RU;function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){if("string"==typeof e)return e;if(t in e)return e[t]||r;if(!(0,N.KS)(t)&&"en"in e)return e.en||r;if(rt in e)return e[rt]||r}return r}var ot;!function(e){e.MEDIUM="medium",e.SMALL="small",e.SVG="svg"}(ot||(ot={}));const at="//yastatic.net/s3/games-static/static-data/images/payments/sdk";let it=function(){it=()=>{},Ee.params({borrowParams:{payments:{appId:(0,ee.rh)(),productCurrencyCodeGet:!0}}})};class st{constructor(e){this._productData=e}get id(){return this._productData.id}get title(){return nt(this._productData.title)}get description(){return nt(this._productData.description)}get imageURI(){const{image:e}=this._productData;return e&&"object"==typeof e&&"url_prefix"in e?/\.(png|jpg|svg)$/.test(String(e.url_prefix))?e.url_prefix:`${e.url_prefix}/default256x256`:"https://yastatic.net/s3/games-static/static-data/images/payments/default-product-image.png"}get price(){const{price:e}=this._productData;return`${e}Â ${this.priceCurrencyCode}`}get priceValue(){return String(this._productData.price)}get priceCurrencyCode(){var e;return it(),null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.moneyCodeSymbol}getPriceCurrencyImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot.SMALL;if(e===ot.SVG)return`${at}/currency-icon-m.svg`;let t="s";switch(e){case ot.MEDIUM:case ot.SMALL:t=e.charAt(0);break;default:console.warn(`Unknown size value ('${e}')`)}const r=window.devicePixelRatio>=2;return`${at}/currency-icon-${t}${r?"@2x":""}.png`}toJSON(){return{id:this.id,title:this.title,description:this.description,imageURI:this.imageURI,price:this.price,priceValue:this.priceValue,priceCurrencyCode:this.priceCurrencyCode}}}class ct{constructor(e){"purchaseTime"in e||(e.purchaseTime=0),this.purchaseData=e}get productID(){return this.purchaseData.productID}get purchaseTime(){return this.purchaseData.purchaseTime}get purchaseToken(){return this.purchaseData.purchaseToken}get developerPayload(){return this.purchaseData.developerPayload}toJSON(){return{productID:this.productID,purchaseTime:this.purchaseTime,purchaseToken:this.purchaseToken,developerPayload:this.developerPayload}}}r(108),r(109),r(110);function dt(e){return function(e){for(var t,r="",n=e.length,o=0;o<n;o++)t=e[o],r+=String.fromCharCode(t>251&&t<254&&o+5<n?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<n?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<n?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<n?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<n?(t-192<<6)+e[++o]-128:t);return r}(function(e,t){for(var r,n,o,a=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=a.length,s=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,c=new Uint8Array(s),d=0,l=0,u=0;u<i;u++)if(n=3&u,d|=((o=a.charCodeAt(u))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<18-6*n,3===n||i-u==1){for(r=0;r<3&&l<s;r++,l++)c[l]=d>>>(16>>>r&24)&255;d=0}return c}(e))}function lt(e,t){t&&Object.defineProperty(e,"signature",{enumerable:!1,configurable:!1,get:()=>t})}const ut=T("Payment");class pt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e,this.___test1212()}getCatalog(){return new Promise(((e,t)=>{u.Z.postToParent({type:"payments",action:"get-catalog",data:{lang:this._config.lang}}).then((t=>{let{data:r}=t;ut("get-catalog result",r),e(r.products.map((e=>new st(e))))})).catch((e=>{t(e)}))}))}purchase(e){"object"!=typeof e&&(e={id:e,developerPayload:""});const{developerPayload:t}=e;if(t){if("string"!=typeof t)return Promise.reject(new Error("developerPayload must be a string"))}else e.developerPayload="";return new Promise(((t,r)=>{u.Z.postToParent({type:"payments",action:"purchase-start",data:{paymentsConfig:this._config,purchaseConfig:e}}).then((e=>{let{data:{data:r,signature:n}}=e;ut("purchase-start then");const o=new ct({productID:r.product.id,purchaseToken:r.token,developerPayload:r.developerPayload});lt(o,n),t(o)})).catch((e=>{ut("purchase-start catch"),r(e)}))}))}getPurchases(){return new Promise(((e,t)=>{u.Z.postToParent({type:"payments",action:"get-purchases",data:{paymentsConfig:this._config}}).then((t=>{let{data:{data:r,signature:n}}=t;ut("getPurchases callback",r);const o=r.map((e=>new ct({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload})));lt(o,n),e(o)})).catch((e=>{t(e)}))}))}consumePurchase(e){return new Promise(((t,r)=>{u.Z.postToParent({type:"payments",action:"purchase-consume",data:{token:e}}).then((e=>{let{data:r}=e;if(console.info("consumePurchase data"),console.info(r),!r||!r.token)throw new je.Z({code:"CANNOT_CONSUME_PURCHASE",message:"Can not consume purchase."});t(!0)})).catch((e=>{r(e)}))}))}___test1212(){var e,t,r;if("96458"!==(null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.app.id))return;if(!0!==(null===(r=null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.request.experiments)||void 0===r?void 0:r.test1212Payments))return;const n="position: fixed; left: 15px; padding: 0.3em; background: #fff; border: 1px solid #000; border-radius: 5px;";let o=document.createElement("div");o.setAttribute("id","payElement1212-noads"),o.setAttribute("style",`${n} top: 5px;`),o.textContent='purchase("noads")',o.onclick=()=>this.___test1212Purchase("noads"),document.body.appendChild(o),o=document.createElement("div"),o.setAttribute("id","payElement1212-3x3antiblock"),o.setAttribute("style",`${n} top: 40px;`),o.textContent='purchase("3x3antiblock")',o.onclick=()=>this.___test1212Purchase("3x3antiblock"),document.body.appendChild(o)}___test1212Purchase(e){function t(t){const r=document.getElementById(`payElement1212-${e}`);r&&(r.style.backgroundColor=t?"#0f0":"#f00")}this.purchase({id:e,developerPayload:""}).then((()=>t(!0))).catch((e=>{t(!1),(0,l.fF)(e)}))}}const _t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new pt(e);return new Promise(((e,r)=>{t.getCatalog().then((()=>e(t))).catch(r)}))},ht=`${Q}/player`,mt=5e3,gt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Me({api:Pe(ht),timeout:mt,path:e,data:t,params:r})},ft=204800;function vt(e){try{return JSON.stringify(e)}catch(e){return(0,l.fF)(e),`${Date.now()}.${Math.random()}`}}class yt{constructor(e){this._playerId=e,this._dataHash=null,this._timestamp=0}isSamePlayer(e){return e===this._playerId}set dataHash(e){this._dataHash=e?vt(e):null}validate(e){const t=vt(e);return function(e){try{return(new TextEncoder).encode(e).length}catch(t){return function(e){let t=e.length;for(let r=e.length-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}(e)}}(t)>ft?{error:new Error("The data is too large (bigger then 204800 bytes)."),reject:!0}:this._dataHash===t?{error:new Error("The data does not differ from the previous ones."),reject:!1}:{}}getWaitTime(){let e=200;const t=Math.abs(Date.now()-this._timestamp);return t<3e3&&(e=Math.max(200,3e3-t)),e}set timestamp(e){this._timestamp=e}}const Et=T("Player"),wt=200;function At(e){const{data:t,signature:r}=function(e){if("signature"in e){const{signature:t}=e;if("string"==typeof t){const{data:e}=JSON.parse(dt(t.split(".")[1]));return{data:e,signature:t}}(0,l.fF)(new Error("response.signature is not a string"))}return{data:e}}(e);return lt(t,r),t}function bt(e,t){if(void 0===t)return e;if(!Array.isArray(t))throw new Error("`keys` must be an Array");if(-1!==t.indexOf("signature"))throw new Error('`keys` must not contains "signature" key');const r={};return t.forEach((t=>{t in e&&(r[t]=e[t])})),r}function St(e){return!(!e||"object"!=typeof e)&&Object.values(e).every((e=>"number"==typeof e&&!isNaN(e)))}let Ot,Pt,Tt,Ct;u.Z.onExternalMessage("auth",(e=>{if("changed"===e.data.action&&Tt){Et("Call onLogoutCallback()");try{Tt()}catch(e){console.error()}Tt=void 0}}));class kt extends Ie{constructor(e,t){super(e),this.config=t,Pt&&Pt.isSamePlayer(this.getUniqueID())||(Pt=new yt(this.getUniqueID()))}onLogout(e){Et("Set onLogout callback"),Tt=e}getIDsPerGame(){return this._fetchData("-ids-per-game")}getData(e){return void 0!==this.data?this.dataPromise=Promise.resolve(this.data):void 0===this.dataPromise&&(this.dataPromise=new Promise(((e,t)=>{this._fetchData("/data").then((t=>{this.data=t,e(t)})).catch((e=>{this.dataPromise=void 0,t(e)}))}))),this.dataPromise.then((t=>bt(t,e)))}setData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!function(e){return!(!e||"object"!=typeof e)}(e))return Promise.reject(new Error("Data is not valid"));this.data=e;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Pt.validate(e);return r.error?r.reject?Promise.reject(r.error):((0,l.Ts)(r.error),Promise.resolve(!0)):new Promise(((r,n)=>{Ot&&window.clearTimeout(Ot);let o=t?wt:Math.max(wt,Pt.getWaitTime());Pt.timestamp=Date.now(),Ot=window.setTimeout((()=>{gt("/data",e).then((()=>{Pt.dataHash=e,r(!0)})).catch((e=>{Pt.timestamp=0,Pt.dataHash=null,n(e)}))}),o)}))}(e,t);return t?r:Promise.resolve(!0)}getStats(e){return void 0===this.statsPromise&&(this.statsPromise=new Promise(((e,t)=>{this._fetchData("/stats").then(e).catch(t).finally((()=>this.statsPromise=void 0))}))),this.statsPromise.then((t=>bt(t,e)))}setStats(e){return St(e)?gt("/stats",e):Promise.reject(new Error("Stats is not valid"))}incrementStats(e){return St(e)?this._postData("/stats/increment",e):Promise.reject(new Error("Increments is not valid"))}_fetchData(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne({api:Pe(ht),timeout:mt,path:e,params:t})}((0,ee.H8)(`${e}${this.config.signed?"-signed":""}`)).then(At)}_postData(e,t){return gt(`${e}${this.config.signed?"-signed":""}`,t).then(At)}}try{Ct=window.localStorage}catch(e){}const It=Ct||function(){let e={};return{clear(){e={}},getItem:t=>e[t],key:t=>Object.keys(e)[t],removeItem(t){delete e[t]},setItem(t,r){e[t]=String(r)},get length(){return Object.keys(e).length}}}(),Rt=/iPad|iPhone|iPod/.test(navigator.platform),xt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Dt=Rt||xt,Lt=/app-[^.]+\.games\.s3\.yandex\.net$/.test(window.location.hostname),Nt=!Lt&&Dt,Mt=function(e,t){if("function"!=typeof t)throw new Error("Argument is not a function");let r;return function(){if(--e>0&&t){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];r=t.apply(this,o)}return e<=1&&(t=void 0),r}}(2,(()=>{(0,l.fF)(new Error("localStorage is broken on iOS/MacOS - https://developer.apple.com/forums/thread/109909\nPlease use YaGames.init().then(ysdk => ysdk.getStorage()).then(storage => storage.setItem('key', 'value'))"))}));class Ut{static setup(){Nt&&Object.defineProperty(window,"localStorage",{get:function(){return Mt(),It}}),Dt&&Lt&&Ut.setProxy()&&Ut.backup()}static load(){if(Ut.onloadPromise_)return Ut.onloadPromise_;const e=Ut.getCustomLocalStorage();return e?(Ut.onloadPromise_=new Promise((t=>{window.addEventListener("message",(r=>{let{data:{type:n,action:o,data:a}}=r;if("local-storage"===n&&"get-all"===o){for(let t in a)e.setItem(t,String(a[t]));t(e)}})),window.parent.postMessage({type:"local-storage",action:"get-all",source:"YandexGamesSDK"},"*")})),Ut.onloadPromise_):Promise.resolve(It)}static getCustomLocalStorage(){if("function"!=typeof Proxy)return null;return new Proxy({clear(){It.clear.call(It),u.Z.postToParent({type:"local-storage",action:"clear"})},getItem:e=>It.getItem.call(It,e),key:e=>It.key.call(It,e),get length(){return It.length},removeItem(e){It.removeItem.call(It,e),u.Z.postToParent({type:"local-storage",action:"del",data:{key:e}})},setItem(e,t){It.setItem.call(It,e,String(t)),u.Z.postToParent({type:"local-storage",action:"set",data:{key:e,value:t}})}},{get:function(e,t){return t in e?e[t]:e.getItem(String(t))},set:function(e,t,r){return e.setItem(String(t),r),!0}})}static setProxy(){const e=Ut.getCustomLocalStorage();return!!e&&(Object.defineProperty(window,"localStorage",{get:function(){return e}}),!0)}static backup(){const e=Object.create(null);for(let t=0;t<It.length;t++){const r=It.key(t);r&&(e[r]=It.getItem(r))}u.Z.postToParent({type:"local-storage",action:"backup",data:e})}}function Gt(){return!Dt&&Ct?Promise.resolve(Ct):Ut.load()}function Bt(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}Ut.onloadPromise_=null;const Ft=new class{writeText(e){try{e=String(e)}catch(e){return Promise.reject(new Error("Error while stringified provided value"))}return new Promise(((t,r)=>{u.Z.postToParent({type:"clipboard",action:"write-text",data:{text:e}}).then((()=>t(void 0))).catch(r)}))}},Ht={android:()=>!Ht.windows()&&Wt("android"),androidPhone:()=>Ht.android()&&Wt("mobile"),androidTablet:()=>Ht.android()&&!Wt("mobile"),blackberry:()=>Wt("blackberry")||Wt("bb10")||Wt("rim"),blackberryPhone:()=>Ht.blackberry()&&!Wt("tablet"),blackberryTablet:()=>Ht.blackberry()&&Wt("tablet"),cordova:()=>Boolean(window.cordova&&"file:"===window.location.protocol),desktop:()=>!Ht.tablet()&&!Ht.mobile(),fxos:()=>(Wt("(mobile")||Wt("(tablet"))&&Wt(" rv:"),fxosPhone:()=>Ht.fxos()&&Wt("mobile"),fxosTablet:()=>Ht.fxos()&&Wt("tablet"),ios:()=>Ht.iphone()||Ht.ipod()||Ht.ipad(),ipad:()=>Wt("ipad"),iphone:()=>!Ht.windows()&&Wt("iphone"),ipod:()=>Wt("ipod"),landscape:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Kt(screen.orientation.type,"landscape"):window.innerHeight/window.innerWidth<1},macos:()=>Wt("mac"),meego:()=>Wt("meego"),mobile:function(){return Ht.androidPhone()||Ht.iphone()||Ht.ipod()||Ht.windowsPhone()||Ht.blackberryPhone()||Ht.fxosPhone()||Ht.meego()},nodeWebkit:()=>"object"==typeof window.process,get os(){return $t(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"])},portrait:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Kt(screen.orientation.type,"portrait"):window.innerHeight/window.innerWidth>1},tablet:function(){return Ht.ipad()||Ht.androidTablet()||Ht.blackberryTablet()||Ht.windowsTablet()||Ht.fxosTablet()},tv:()=>jt.some((e=>Wt(e))),get type(){return $t(["tv","mobile","tablet","desktop"])},windows:()=>Wt("windows"),windowsPhone:()=>Ht.windows()&&Wt("phone"),windowsTablet:()=>Ht.windows()&&Wt("touch")&&!Ht.windowsPhone()},Yt="undefined"==typeof window?"":window.navigator.userAgent.toLowerCase(),jt=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html","yandexmodule","androidtv"];function Kt(e,t){return-1!==e.indexOf(t)}function Wt(e){return Kt(Yt,e)}function $t(e){for(let t=0;t<e.length;t+=1)if(Ht[e[t]]())return e[t];return"unknown"}const Vt=Ht,Zt={isMobile:()=>Vt.mobile(),isTablet:()=>Vt.tablet(),isDesktop:()=>Vt.desktop(),isTV:()=>Vt.tv(),type:Vt.type},zt={APP_VERSION:"",app:{id:""},browser:{lang:"ru"},clid:void 0,i18n:{lang:"ru",tld:"ru"},isStickyBannerEnabled:!1,isWorldWide:!1,isYandexApp:!1,moneyCodeSymbol:h.NA.HOP,params:{},request:{},serviceName:h.kJ.YANDEX};let qt=()=>(window.YandexGamesSDKEnvironment||(0,l.fF)(new Error("SDK environment: `window.YandexGamesSDKEnvironment` is undefined")),qt=()=>window.YandexGamesSDKEnvironment||zt,qt());const Xt={get app(){return qt().app},get browser(){return qt().browser},get data(){return qt().data||{}},get i18n(){return qt().i18n},get payload(){return qt().params.payload}};const Jt=(()=>{var e;const t=null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game.info;if(!t)return;const r=parseInt(t.appId,10);return r?{appId:r,developerId:t.publisher.id}:void 0})();const Qt=[{regexp:new RegExp("User .+ already exists in users list!"),title:"User already exists in users list!"},{regexp:new RegExp("\\(Filename:.+Line: -?[0-9]+\\)"),title:"Unity"},{substr:"UnityEngine",title:"Unity"},{substr:"Dimensions must match",title:"Unity"},{substr:"Loading FSB failed for audio clip",title:"Unity"},{substr:"UnityLoader",title:"Unity"},{substr:"GLSL",title:"GLSL"},{substr:"ValerypopoffJS plugin",title:"ValerypopoffJS plugin"},{substr:"https://github.com/cocos-creator/engine",title:"cocos-creator"},{substr:"Wicket.Ajax",title:"Wicket.Ajax"},{substr:'Error loading sound "%s"',title:'"loading sound"'},{substr:"Error loading image",title:'"loading image"'},{substr:"Error loading Texture",title:'"loading Texture"'},{substr:"Error loading asset",title:'"loading asset"'},{substr:"Error loading audio url",title:'"loading audio url"'},{substr:"Error loading animation resource",title:'"loading animation resource"'},{substr:"Failed to load resource:",title:'"loading resource"'},{substr:"Could not load",title:'"loading"'},{substr:"Failed to load",title:'"loading"'},{regexp:new RegExp("[Cc]ould not allocate memory"),title:"working with memory"},{substr:"Out of executable memory in function at index",title:"working with memory"},{substr:"memory access out of bounds",title:"working with memory"},{substr:"pre-main prep time: ",title:'"pre-main prep time"'},{substr:"FAILED DIGGING: ",title:'"DIGGING"'},{substr:"sth wrong with connection!",title:'"sth wrong with connection!"'},{substr:"Object2D is not available",title:'"Object2D is not available"'},{regexp:new RegExp("^Client : Error finish action.*?respawn$"),title:'"finish action respawn"'},{substr:"[TokenStorageYandex]",title:"TokenStorageYandex"},{substr:"TOO_SMALL_CONTAINER",title:"TOO_SMALL_CONTAINER"},{substr:"window.cb",title:"window.cb"}],er=e=>{const t=(e=>e.map((e=>{if("object"==typeof e)try{return JSON.stringify(e)}catch(t){return`${e}: ${t.message}`}return String(e)})).join(" "))(e),r=(e=>{for(const t of Qt)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return{message:`[grouped] Error related to ${t.title}`,additional:{message:e}};return{message:e}})(t),n=new Error(r.message);return r.additional&&(n.additional=r.additional),n};function tr(e,t){t&&(e.type=t),u.Z.postToParent({data:e,type:"error"}).catch((e=>{console.warn(e)}))}function rr(e){return{data:{additional:{sdkVersion:2}},error:e,source:"game",sourceMethod:(0,l.Zi)(e.stack)}}const nr=new class{constructor(e){this.source=e,window.addEventListener("error",this),"Promise"in window&&window.addEventListener("unhandledrejection",this)}addLogger(e){this.logger=e}handleEvent(e){this._handleEvent(e)}_handleEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";try{this._unsafeHandleEvent(e,t)}catch(e){console.warn("Couldn't handle event in ErrorCounter!",e)}}_unsafeHandleEvent(e,t){return"unhandledrejection"===e.type?this._unsafeHandlePromiseRejectionEvent(e):this._unsafeHandleErrorEvent(e,t)}_unsafeHandlePromiseRejectionEvent(e){var t;const{reason:r}=e;if(!r)return;let n;const o={};r.stack&&r.message?n=r.message:(n=String(r),"[object Event]"===n?n="event.type: "+r.type:"[object Object]"===n&&(o.unhandledObject=r)),(null===(t=r.target)||void 0===t?void 0:t.src)&&(o.src=r.target.src),this._postError({additional:o,message:"Unhandled rejection: "+n,name:"UnhandledPromiseError",stack:r.stack||""},"unhandled")}_unsafeHandleErrorEvent(e,t){var r,n,o,a,i;const{error:s}=e,c={columnNumber:null!==(n=null!==(r=e.colno)&&void 0!==r?r:null==s?void 0:s.columnNumber)&&void 0!==n?n:-1,fileName:e.filename||(null==s?void 0:s.fileName)||"",lineNumber:null!==(a=null!==(o=e.lineno)&&void 0!==o?o:null==s?void 0:s.lineNumber)&&void 0!==a?a:-1,message:e.message||(null==s?void 0:s.message)||"",name:(null==s?void 0:s.name)||"Error",stack:null!==(i=null==s?void 0:s.stack)&&void 0!==i?i:""};(Jt||(null==s?void 0:s.additional))&&(c.additional=Object.assign(Object.assign({},null==s?void 0:s.additional),Jt)),this._postError(c,t)}_postError(e,t){var r;let n=(0,l.Zi)(e.stack);"ErrorListener.handleEvent"===n&&(n="unknown"),null===(r=this.logger)||void 0===r||r.call(this,{data:{additional:e.additional||{}},error:e,source:this.source,sourceMethod:n},t)}}("game");var or,ar;nr.addLogger(tr),function(){try{const e=console.error;console.error=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];let o=r.filter((e=>e instanceof Error))[0];o||(o=er(r));try{"string"==typeof r[1]&&r[1]===l.X4?r.pop():tr(rr(o),"console.error")}catch(e){}e.apply(console,r)}}catch(e){try{tr(rr(e),"error")}catch(e){}}}(),function(e){e.LoadingAPI="LoadingAPI",e.AudioAPI="AudioAPI"}(or||(or={})),function(e){e.IframeAdded="loading_api_iframe_added",e.IframeLoaded="loading_api_iframe_resources_loaded",e.ScriptInit="loading_api_script_init",e.GameInit="loading_api_game_init",e.GameReady="loading_api_game_ready",e.GameReadyForce="loading_api_game_ready_force"}(ar||(ar={}));const ir=[or.LoadingAPI];const sr={[or.LoadingAPI]:class{constructor(){this.isReady=!1,this.startTimestamp=Date.now(),this.startReadyFallbackTimeout()}ready(){this.isReady=!0;const e=Date.now()-this.startTimestamp;this.logGameInitTime(e,ar.GameReady),clearTimeout(this.readyFallbackTimerId)}logGameInitTime(e,t){u.Z.postToParent({type:"game-measuring",action:t,data:{timeFromInit:e}})}startReadyFallbackTimeout(){this.readyFallbackTimerId=setTimeout((()=>{this.isReady=!0,this.logGameInitTime(3e4,ar.GameReadyForce)}),3e4)}}};class cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in or)or[t]in e&&e[or[t]]&&(this[t]=new sr[t]);for(let t of ir)!this[t]&&(t in e&&e[t]||!(t in e))&&(this[t]=new sr[t]);u.Z.postToParent({type:"game-measuring",action:ar.GameInit})}}var dr;or.LoadingAPI,function(e){e.GAME_RATED="GAME_RATED",e.NO_AUTH="NO_AUTH",e.REVIEW_ALREADY_REQUESTED="REVIEW_ALREADY_REQUESTED",e.REVIEW_WAS_REQUESTED="REVIEW_WAS_REQUESTED",e.UNKNOWN="UNKNOWN"}(dr||(dr={}));const lr=new class{canReview(){return new Promise((e=>{u.Z.postToParent({type:"feedback",action:"can-review"}).then((t=>{let{data:r}=t;e(r)})).catch((t=>{(0,l.fF)(t),e({reason:dr.UNKNOWN,value:!1})}))}))}requestReview(){return new Promise((e=>{u.Z.postToParent({type:"feedback",action:"request-review"}).then((t=>{let{data:r}=t;const{feedbackSent:n,reason:o}=r;o?((0,l.fF)(o),e({feedbackSent:n})):e(r)})).catch((t=>{(0,l.fF)(t),e({feedbackSent:!1})}))}))}};function ur(){!function(){var e;null===(e=window.top)||void 0===e||e.postMessage({type:"foolproof-sdk-init",url:location.href,draftDetectedInIframe:(0,ee.mv)()},"*")}()}const pr={allow(){u.Z.postToParent({type:"notifications",action:"allow"})}};function _r(){const e=e=>e&&"object"==typeof e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(((t,r)=>(Object.keys(r).forEach((n=>{const o=t[n],a=r[n];Array.isArray(o)&&Array.isArray(a)?t[n]=o.concat(...a):e(o)&&e(a)?t[n]=_r(o,a):t[n]=a})),t)),{})}function hr(e){if(!e||"object"!=typeof e)return{};!function(e){"partnerId"in e&&(delete e.partnerId,console.warn("`partnerId` is deprecated in the SDKv2"))}(e);return["adv","screen"].reduce(((t,r)=>(r in e&&(t=e[r]),t)),{})}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hr(t),gr(_r(e,t))}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr(e),vr(e),yr(e),e}function fr(e){return j||(e.advBlocks.fullscreen=w,e.advBlocks.fullscreen_landscape=w),e}function vr(e){return e.adv=e.adv||{},function(e){if("onAdvClose"in e&&"function"!=typeof e.onAdvClose)throw new Error('"onAdvClose" must be a function')}(e.adv),e}function yr(e){if("screen"in e&&"object"!=typeof e.screen)throw new Error("Wrong screen options type");let t=e.screen||{};return t=function(e){"fullscreen"in e?function(e){if("boolean"!=typeof e)throw new Error("Wrong fullscreen value")}(e.fullscreen):e.fullscreen=!Zt.isDesktop();return e}(t),t=function(e){if("orientation"in e){const{orientation:t}=e;"string"==typeof t&&(e.orientation={value:t,lock:!0}),function(e){if("object"!=typeof e)throw new Error("Wrong orientation value");if(![null,"portrait","landscape"].includes(e.value))throw new Error(`Wrong orientation value ("${e.value}")`);if("lock"in e){if("boolean"!=typeof e.lock)throw new Error(`Wrong orientation lock value ("${e.lock}")`)}else e.lock=!0}(e.orientation)}else e.orientation={value:null,lock:!0};return e}(t),e.screen=t,e}function Er(){return new Promise(((e,t)=>{u.Z.postToParent({type:"options",action:"get"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{t(e)}))}))}const wr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _t(e)},Ar={AVATAR:"avatar",NAME:"public_name"},br="personal_info";Object.keys(Ar).map((e=>Ar[e]));var Sr;!function(e){e.ALLOW="allow",e.FORBID="forbid",e.NOT_SET="not_set"}(Sr||(Sr={}));class Or{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this._scopePermissions=e,this._requestedScopes=this._validateRequestedScopes(t)}show(){return new Promise(((e,t)=>{u.Z.postToParent({type:"scopes",action:"open-scopes-dialog"}).then((t=>{let{data:r}=t;e(r.result)})).catch(t)}))}isNeedToAskUser(){return[Ar.AVATAR,Ar.NAME].some((e=>this._requestedScopes.includes(e)&&this._scopePermissions[e]===Sr.NOT_SET))}_validateRequestedScopes(e){let t=[];t=Array.isArray(e)?Array.from(e):void 0===e||!0===e?[br]:[];const r=t.indexOf(br);return-1!==r&&t.splice(r,1,Ar.AVATAR,Ar.NAME),t}}const Pr=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}};const Tr=class{constructor(){this.promiseWrappers=Object.create(null)}getKey(e){return JSON.stringify(e)}getFor(e){return this.promiseWrappers[this.getKey(e)]}setFor(e,t){t?this.promiseWrappers[this.getKey(e)]=t:delete this.promiseWrappers[this.getKey(e)]}clear(){this.promiseWrappers=Object.create(null)}},Cr=T("PlayerProxy"),kr=3e5;function Ir(e,t,r){const n=new kt(t,e);return lt(n,r),n}const Rr=new Tr;function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Rr.getFor(e);if(r&&!1!==t)return r.promise;const n=new Pr;return!1!==t&&(Rr.setFor(e,n),window.setTimeout((()=>{Rr.setFor(e,void 0)}),kr)),u.Z.postToParent({type:"player",action:"fetch",data:{config:e}}).then((r=>{let{data:o}=r;const{data:a,signature:i}=o,s=Ir(e,a,i);if("lite"===s.getMode())n.resolve(s);else{const r=new Or(a.scopePermissions,e.scopes);t&&r.isNeedToAskUser()?r.show().then((()=>xr(e,!1))).catch((()=>s)).then((e=>n.resolve(e))):n.resolve(s)}})).catch((t=>{n.reject(t),Rr.setFor(e,void 0)})),n.promise}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xr(e,!0)}function Lr(e){var t;e&&(e.focus(),null===(t=e.contentWindow)||void 0===t||t.focus(),e.onload=function(){var t;null===(t=e.contentWindow)||void 0===t||t.focus()})}u.Z.onExternalMessage("auth",(e=>{["auth-dialog-cancel","auth-dialog-success","changed"].includes(e.data.action)&&(Cr("Clear getPlayer promises."),Rr.clear())}));class Nr{constructor(){this.onMessage=e=>{const{action:t}=e.data;"fullscreenchange"===t?document.dispatchEvent(new Event("fullscreenchange")):"iframe-focus"===t&&this.iframeFocus()},this._status="off",this.overrideBrowserFullscreenElement(),this.initMessaging(),this.updateStatus()}get STATUS_ON(){return"on"}get STATUS_OFF(){return"off"}get status(){return this._status}request(){return u.Z.postToParent({type:"screen-manager",action:"request-fullscreen"})}exit(){return u.Z.postToParent({type:"screen-manager",action:"exit-fullscreen"})}toggle(){return u.Z.postToParent({type:"screen-manager",action:"toggle-fullscreen"})}iframeFocus(){Lr(document.querySelector("iframe"))}updateStatus(){u.Z.postToParent({type:"screen-manager",action:"get-state"}).then((e=>{const{isFullscreen:t}=e.data;this._status=t?"on":"off"}))}overrideBrowserFullscreenElement(){try{Object.getOwnPropertyDescriptor(document,"fullscreenElement")||Object.defineProperty(document,"fullscreenElement",{enumerable:!1,configurable:!0,get:()=>this.status===this.STATUS_ON?document.documentElement:null})}catch(e){(0,l.fF)(e)}}initMessaging(){u.Z.onExternalMessage("screen-manager",this.onMessage)}}class Mr{constructor(){this.fullscreen=new Nr}}var Ur;!function(e){e.EXIT="EXIT",e.HISTORY_BACK="HISTORY_BACK"}(Ur||(Ur={}));const Gr={[Ur.EXIT]:!0};function Br(){const e={[Ur.HISTORY_BACK]:[]};function t(t){const r=e[t];return r||console.warn(`Yandex SDK Event ${t} is not in supported`),r||[]}function r(e){u.Z.postToParent({type:"sdk-internal-event",action:"listeners-change",data:{event:e,count:t(e).length}})}return u.Z.onExternalMessage("sdk-event",(r=>{const n=r.data.action;n in e&&t(n).forEach((e=>{try{e()}catch(e){(0,l.fF)(e)}}))})),function(n,o){return n in e?(function(e,n){t(e).push(n),r(e)}(n,o),()=>{!function(e,n){const o=t(e),a=o.indexOf(n);-1!==a&&(o.splice(a,1),r(e))}(n,o)}):(console.warn("Yandex SDK Event",n,`is not in supported. Available events: ${Object.keys(e).join}`),()=>{})}}const Fr=["passport.ya","passport.yandex","an.yandex.ru","avatars.mds.yandex.net","/api/"];function Hr(e){const t=Cache.prototype[e];Cache.prototype[e]=function(e,r){return"GET"!==e.method||0!==e.url.indexOf("https://")||(n=e.url,Fr.some((e=>-1!==n.indexOf(e))))?Promise.resolve():("ignoreSearch"in(r=r||{})||(r.ignoreSearch=!0),t.call(this,e,r));var n}}const Yr=class{static overrideCacheSearch(){("function"!=typeof Cache?(console.warn("Can not find `Cache` function"),0):"function"!=typeof Cache.prototype.match?(console.warn("Can not find `Cache.match` function"),0):"function"==typeof Cache.prototype.matchAll||(console.warn("Can not find `Cache.matchAll` function"),0))&&(Hr("match"),Hr("matchAll"))}};const jr=new class{canShowPrompt(){return new Promise((e=>{u.Z.postToParent({type:"shortcut-manager",action:"can-show-prompt"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{(0,l.fF)(e)}))}))}showPrompt(){return new Promise((e=>{u.Z.postToParent({type:"shortcut-manager",action:"show-prompt"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{(0,l.fF)(e)}))}))}};function Kr(e){window.setTimeout((()=>{const t={borrowParams:{[`tmpPlayTime${e}`]:{appVersion:window.APP_VERSION}}};(new Image).src=`https://mc.yandex.ru/watch/49035923?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(t))}`}),1e3*e)}const Wr=function(){Kr(5),Kr(60),Kr(900)};function $r(){return new Promise((e=>{if("loading"===document.readyState){const t=r=>{"loading"!==r.target.readyState&&(r.target.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}else e()}))}let Vr=Promise.resolve();Vr=function(e){let t=[[i.LEGACY,Boolean(Array.prototype.at)],[i.INTERSECTION_OBSERVER,Boolean("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)],[i.SMOOTH_SCROLL,Boolean("scrollBehavior"in document.documentElement.style)]].filter((e=>{let[,t]=e;return!t}));return Promise.all(t.map((t=>{let[r]=t;return(e=>{const{async:t,parentElement:r,nonce:n,onLoadCb:o,onErrCb:a,src:i,id:s,content:c}=e,d=document.createElement("script");if(o&&(d.onload=o),a&&(d.onerror=a),d.type="text/javascript",t&&(d.async=t),i&&(d.src=i),n&&d.setAttribute("nonce",n),s&&d.setAttribute("id",`${s}-script`),c){const e=document.createTextNode(c);d.appendChild(e)}r?r.appendChild(d):document.body.appendChild(d)})({id:r,src:d(e,r),parentElement:document.head})})))}("//yastatic.net/s3/games-static/stardust/games/v1677650887/build/"),Vr=Vr.then((()=>{ie&&(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=window),["testing","prestable","production"].includes("production")&&!S&&xe()&&(e.console=Object.assign(Object.assign({},console),{log:()=>{},error:()=>{},info:()=>{},debug:()=>{},warn:()=>{},trace:()=>{},dir:()=>{},dirxml:()=>{},group:()=>{},groupEnd:()=>{},time:()=>{},timeEnd:()=>{},assert:()=>{},profile:()=>{}}))}(),window.alert=e=>console.warn("Overridden alert: "+e)),(()=>{if(window.top!==window)return;if(-1===window.location.hostname.indexOf("games.s3.yandex.net")&&-1===window.location.hostname.indexOf("games-storage.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-aws.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-awst.yandex.net"))return;const e=(0,ee.rh)();if(!e)return;const{search:t,hash:r,hostname:n}=window.location;let o;o=-1===n.indexOf("games.s3.yandex.net")?`https://yandex.com/games/app/${e}${t}${r}`:`https://${M(window.location.hostname)?"ya":"yandex"}.ru/games/app/${e}${t}${r}`,window.top.location.replace(o)})(),ur()}));let Zr;T("sdkv2")("APP_VERSION","1677650887");class zr{constructor(e){var t;e=mr(e),this.EVENTS={EXIT:Ur.EXIT,HISTORY_BACK:Ur.HISTORY_BACK},this.dispatchEvent=function(e,t){return new Promise(((r,n)=>{if(!(e in Gr)){const t=`Yandex SDK Event ${e} is not in supported.`;return console.warn(t),void n(new Error(t))}const o={action:e,type:"sdk-event"};if(void 0!==t)try{o.data={detail:JSON.stringify(t)}}catch(e){return console.warn(e),void n(new Error('Wrong "detail" argument'))}u.Z.postToParent(o).then((()=>{r(!0)})).catch((e=>{n(e)}))}))},this.onEvent=Br(),this.adv=new he(e),this.auth=fe,this.clipboard=Ft,this.deviceInfo=Zt,this.environment=Xt,this.feedback=lr,this.isAvailableMethod=(t=this,e=>u.Z.postToParent({type:"auth",action:"has-auth"}).then((r=>{let{data:n}=r;const{hasAuth:o}=n;if(!o&&function(e){return["feedback.requestReview","leaderboards.getLeaderboardPlayerEntry","leaderboards.setLeaderboardScore","player.getIDsPerGame"].includes(e)}(e))return!1;const a={leaderboards:He,payments:pt,player:kt,storage:Ut.getCustomLocalStorage()};if(a[e])return!1;const i=e.split(".");let s=Object.assign(Object.assign({},a),t);for(let e=0;e<i.length;e++){const t=s[i[e]];if(!t)return!1;if(e===i.length-1)return"function"==typeof t;if(!Bt(t))return!1;s=Bt(t.prototype)?t.prototype:t}return!1}))),this.shortcut=jr,this.getLeaderboards=Ye,this.getPayments=wr,this.getPlayer=Dr,this.getStorage=Gt,this.notifications=pr,this.screen=new Mr,this.features=new cr(e.features),this.yandexApp={enabled:W}}}Vr=Vr.then((()=>{window.loadEnvironmentPromise=window.loadEnvironmentPromise||new Promise(((e,t)=>{u.Z.postToParent({type:"environment",action:"get"}).then((t=>{let{data:r}=t;e(r)})).catch((e=>{t(e)}))})).then((e=>{window.YandexGamesSDKEnvironment=e})),function(e){const t=Re(e,2e3);["click","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","pointerup","touchcancel","touchend","touchmove","touchstart"].forEach((e=>document.addEventListener(e,t,{passive:!0,capture:!0})))}((()=>u.Z.postToParent({type:"user-action"})))}));class qr{constructor(){throw new Error("Please, use `YaGames.init` instead.")}static init(e){return(0,s.mG)(this,void 0,void 0,(function*(){return Zr?(console.warn("YaGames was initialized"),Zr):(yield Vr,Zr=new Promise(((t,r)=>{const n=n=>{try{e=mr(n,e),$r().then((()=>{const r=new zr(e);ge.hasAuth()?r.getPlayer({scopes:!1}).then((()=>t(r))).catch((()=>t(r))):t(r)}))}catch(e){(0,l.fF)(e),r(e)}};window.loadEnvironmentPromise.then((()=>{Er().then(n).catch((e=>{console.warn(`Options load failed with error ${e}`),n()}))})).catch((e=>{(0,l.fF)(e),Er().then(n).catch((e=>{console.warn(`Options load failed with error ${e}`),n()}))})),setTimeout((()=>{if("complete"===document.readyState)u.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}});else{const e=()=>{u.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}}),window.removeEventListener("load",e)};window.addEventListener("load",e)}}),1e4)})),Zr)}))}}if(qr.deviceInfo=Zt,window.YaGames){const e='YaGames is already defined. Please, check double <script src="https://ya.ru/games/sdk/v2"> on the page.';(0,ee.mv)()&&window.parent.postMessage({source:"YandexGamesSDK",type:"alert",message:e},"*"),(0,l.Ts)(new Error(e))}else{window.parent!==window&&window.parent.postMessage({source:"YandexGamesSDK",type:"sdk-bundle-start",messageId:`${Date.now()}-${Math.random()}`,data:{time:Date.now(),sdkVersion:"v2",sdkBundle:"1677650887"}},"*");try{Ut.setup()}catch(e){(0,l.fF)(e)}window.top!==window&&$r().then(p),Lr(document.querySelector("iframe")),Yr.overrideCacheSearch(),Wr()}window.YaGames=qr;const Xr=qr})(),YaGames=n.default})();
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/v1677650887/sdk/v2.js.map